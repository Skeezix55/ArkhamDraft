{"version":3,"sources":["components/options/InvestigatorSettings.js","components/options/SettingsType.js","components/options/SettingsChaos.js","components/options/SettingsDraft.js","components/options/SettingsPhase.js","components/options/SettingsPhasedDraft.js","components/options/SettingsBuild.js","components/options/SettingsUpgrade.js","components/options/Settings.js","components/options/CollectionCycle.js","components/options/CollectionSettings.js","components/draft/CardList.js","components/draft/DraftArea.js","components/draft/Draft.js","components/DraftFilters.js","App.js","components/DraftData.js","components/StandardChaos.js","components/SimpleDraft.js","AppContainer.js","index.js"],"names":["InvestigatorSettings","props","investigator","secondaryClass","selectedDeckSize","selectedTaboo","deckSize","cardData","tabooData","investigatorData","handleChange","event","onChangeSetting","target","name","value","secondaryFactionList","deckSizeList","tabooList","secondaryClassValue","deckSizeValue","investigatorID","Object","keys","filter","key","deckOptions","deck_options","i","length","faction_select","map","item","index","toUpperCase","slice","deck_size_select","code","date_start","unshift","tabooDiv","className","id","onChange","secondaryClassDiv","deckSizeDiv","style","position","onClick","Math","floor","random","SettingsType","style1","style2","handleClick","attributes","nodeValue","draftTab","backgroundColor","borderLeft","borderBottom","borderRight","SettingsChaos","SettingsDraft","type","min","max","step","draftCount","SettingsPhase","padding","phase","maxCards","draftCards","checked","draftUseLimited","SettingsPhasedDraft","limit2","limit3","limit4","warningText2","warningText3","warningStyle2","warningStyle3","warningStyle4","display","SettingsBuild","draftSettings","draftDescription","draftType","SettingsUpgrade","draftWeighting","draftXP","Settings","button","ready","filteredCount","color","CollectionCycle","collectionSets","includedSets","columnValue","packData","checkboxes","header","right","top","width","title","CollectionSettings","expandCollection","packs","handleExpand","coreCount","packCount","CardList","cardList","updateCardOverlay","assetCount","eventCount","skillCount","otherCount","hand","hand2","arcane","arcane2","accessory","body","ally","tarot","otherasset","permanent","skill","other","onEnterCardLeft","cardArray","imagesrc","onEnterCardRight","onLeaveCard","forEach","type_code","push","count","slot","assetHeader","handHeader","handContents","sort","a","b","countStr","onPointerEnter","onPointerLeave","hand2Header","hand2Contents","arcaneHeader","arcaneContents","arcane2Header","arcane2Contents","accessoryHeader","accessoryContents","bodyHeader","bodyContents","allyHeader","allyContents","tarotHeader","tarotContents","otherassetHeader","otherassetContents","permanentHeader","permanentContents","eventHeader","eventContents","skillHeader","skillContents","otherHeader","otherContents","marginBottom","DraftArea","draftPool","draftCard","updateCardList","updateDraftPool","newList","findIndex","src","includes","updatedList","concat","images","imageSrc","alt","phaseText","Draft","draftProgress","resetApp","investigatorCardImage","investigatorCardImageBack","backimagesrc","draftContent","progress","FilterCards","upgrade","filteredDeck","list","options","legal","limit","testDeckOption","filterDeckForLimited","requirementOptions","joeRequiredCards","cardTraits","traits","search","RegExp","countDeck","requirement","trait","lolaRequiredCards","faction","faction_code","faction2_code","e1","e2","minCount","factionRequirement","minLevel","maxLevel","countDeckLimited","option","card","level","secondaryFaction","uses","text","f","ixp","undefined","xp","cardText","cardType","find","bonded_to","subtype_code","tabooxp","exceptional","tabooexceptional","restrictions","pack_code","rejected","optionLegal","not","limited","deckLimit","deck_limit","quantity","App","contents","useState","overlayImage","updateOverlayImage","overlayPosition","updateOverlayPosition","overlay","fetchError","building","image","cardLimit","boxSizing","DrawCard","randomCard","randomCode","StandardChaos","filteredData","SimpleDraft","AppContainer","changeInvestigator","changeSecondaryClass","changeSelectedDeckSize","changeSelectedTaboo","changeDeckSize","changeDraftTab","changeDraftType","changeDraftWeighting","changeDraftXP","changeDraftCount","changeDraftCards","changeDraftUseLimited","changeBuilding","newPhase","changeNewPhase","updateCardData","updateTabooData","updateFetchError","changePhase","complete","changeComplete","updateCollectionSets","changeExpandCollection","draftProgressBuild","draftProgressUpgrade","doChangeDraftCount","newCount","doChangeDraftCards","newCards","doChangeDraftUseLimited","newUseLimited","cardXP","useEffect","fetch","then","res","json","catch","cards","JSON","parse","item1","item2","draftTarget","parseInt","pool","deck_requirements","size","classOptions","addCollectionSets","set","removeCollectionSets","tData","cData","tabooEntry","taboo","mergeTabooData","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.37bb7d46.chunk.js","sourcesContent":["import React from \"react\"\n\nfunction InvestigatorSettings(props) {\n    const { investigator, secondaryClass, selectedDeckSize, selectedTaboo, deckSize, cardData, tabooData } = props\n\n    const investigatorData = [\n        'Agnes Baker',\n        'Akachi Onyele',\n        'Amanda Sharpe',\n        '\"Ashcan\" Pete',\n        'Calvin Wright',\n        'Carolyn Fern',\n        'Daisy Walker',\n        'Dexter Drake',\n        'Diana Stanley',\n        'Father Mateo',\n        'Finn Edwards',\n        'Harvey Walters',\n        'Jacqueline Fine',\n        'Jenny Barnes',\n        'Jim Culver',\n        'Joe Diamond',\n        'Leo Anderson',\n        'Lola Hayes',\n        'Luke Robinson',\n        'Mandy Thompson',\n        'Marie Lambeau',\n        'Mark Harrigan',\n        'Minh Thi Phan',\n        'Nathaniel Cho',\n        'Norman Withers',\n        'Patrice Hathaway',\n        'Preston Fairmont',\n        'Rex Murphy',\n        'Rita Young',\n        'Roland Banks',\n        'Sefina Rousseau',\n        'Silas Marsh',\n        'Sister Mary',\n        '\"Skids\" O\\'Toole',\n        'Stella Clark',\n        'Tommy Muldoon',\n        'Tony Morgan',\n        'Trish Scarborough',\n        'Ursula Downs',\n        'Wendy Adams',\n        'William Yorick',\n        'Winifred Habbamock',\n        'Zoey Samaras'\n    ]\n\n    function handleChange(event) {\n        props.onChangeSetting(event.target.name, event.target.value)\n    }\n\n    function handleRandom(event) {\n        props.onChangeSetting('investigator', investigatorData[Math.floor(Math.random() * investigatorData.length)])\n    }\n\n    let secondaryFactionList = null\n    let deckSizeList = null\n    let tabooList = null\n    let secondaryClassValue = secondaryClass\n    let deckSizeValue = selectedDeckSize ? selectedDeckSize : deckSize\n\n    if (cardData) {\n        const investigatorID = Object.keys(cardData)\n        .filter(key => {\n            return  cardData[key].name === investigator\n        })[0]\n\n        const deckOptions = cardData[investigatorID].deck_options\n\n        for (let i = 0; i < deckOptions.length; i++) {\n            if (deckOptions[i].name === 'Secondary Class')\n            {\n                const list = deckOptions[i].faction_select\n\n                secondaryFactionList = list.map((item, index) => {\n                    return <option value={item} key={index}>\n                        {item[0].toUpperCase() + item.slice(1)}\n                        </option>\n                })\n            }\n            else if (deckOptions[i].name === 'Deck Size')\n            {\n                const list = deckOptions[i].deck_size_select\n\n                deckSizeList = list.map((item, index) => {\n                    return <option value={item} key={index}>\n                        {item}\n                        </option>\n                })\n            }\n        }\n    }\n\n    if (tabooData) {\n        tabooList = tabooData.map((item, index) => {\n            return <option value={item.code} key={index}>\n                {item.date_start}\n                </option>\n        })\n\n        tabooList.unshift(<option value=\"None\" key=\"100\">\n            {\"None\"}\n            </option>)\n    }\n\n    const tabooDiv = <div>\n        <label className=\"taboo\" value={selectedTaboo}>Taboo list:</label>\n        <select className=\"taboo\" id='investigatorList' name=\"taboo\" value={selectedTaboo} onChange={handleChange}>\n            {tabooList}\n        </select>\n    </div>\n\n//    let skidsName = '\"Skids\" '\n//    skidsName = skidsName + \"O'Toole\"\n//    const skidsOption = <option value={skidsName}>{skidsName}</option>\n\n    const secondaryClassDiv = secondaryFactionList ?\n        <div>\n            <label className=\"secondaryClass\" value={secondaryClassValue}>Secondary class:</label>\n            <select className=\"secondaryClass\" name=\"secondaryClass\" value={secondaryClassValue} onChange={handleChange}>\n                {secondaryFactionList}\n            </select>\n        </div>\n        :\n        null\n\n        const deckSizeDiv = deckSizeList ?\n        <div>\n            <label className=\"deckSize\" value={deckSizeValue}>Deck size:</label>\n            <select className=\"deckSize\" name=\"selectedDeckSize\" value={deckSizeValue} onChange={handleChange}>\n                {deckSizeList}\n            </select>\n        </div>\n        :\n        null\n\n    return (\n        <div className=\"settings investigatorSettings\">\n            <h3>Investigator Options</h3>\n            <div style={{position: 'relative'}}>\n                <label>Investigator:</label>\n                <select id='investigatorList' name=\"investigator\" value={investigator} onChange={handleChange}>\n                    {investigatorData.map( (name, index) => (\n                        <option value={name} key={name}>{name}</option>\n                    ))}\n                </select>\n                <button className=\"button-rect button-random\" onClick={handleRandom}>Random</button>\n            </div>\n            {secondaryClassDiv}\n            {deckSizeDiv}\n            {tabooDiv}\n        </div>\n    )\n}\n\nexport default InvestigatorSettings","import React from 'react'\n\nfunction SettingsType(props) {\n    let style1 = {}\n    let style2 = {}\n\n    if (props.draftTab === 'Build Deck') {\n        style1 = {\n            backgroundColor: \"#ebebeb\"\n        }\n        style2 = {\n            backgroundColor: \"#bababa\",\n            borderLeft: \"black 2px solid\",\n            borderBottom: \"black 2px solid\"\n        }\n    } else {\n        style1 = {\n            backgroundColor: \"#bababa\",\n            borderRight: \"black 2px solid\",\n            borderBottom: \"black 2px solid\"\n        }\n        style2 = {\n            backgroundColor: \"#ebebeb\"\n        }\n    }\n\n    function handleClick(event) {\n        props.onChangeSetting(event.target.attributes.name.nodeValue, event.target.attributes.value.nodeValue)\n    }\n\n    return (\n        <div className='draft-type'>\n            <div className='type-button' name='draftTab' value='Build Deck' style={style1} onClick={handleClick}>\n                Build Deck\n            </div>\n            <div className='type-button' name='draftTab' value='Upgrade' style={style2} onClick={handleClick}>\n                Upgrade\n            </div>\n        </div>\n    )\n}\n\nexport default SettingsType","import React from 'react'\n\nfunction SettingsChaos(props) {\n    return (\n        <div className=\"draftSettingsDraft\">\n        </div>\n    )\n}\n\n/*\n            <label>Weighting: </label>\n            <input type=\"range\" min=\"0\" max=\"1\" step=\"0.01\" value={props.weighting} className=\"slider\" name=\"weighting\" onChange={handleChange}/>\n            <span className=\"sliderValue\">{props.weighting}</span>\n            <br />\n            <div className=\"description\">A weighting of 0 means all cards will be equally\n                likely.  A weighting of 1 means a card will be as \n                prevalent as it was when it was released, based on \n                card type and slot.\n            </div>\n*/\n\nexport default SettingsChaos","import React from 'react'\n\nfunction SettingsDraft(props) {\n\n    function handleChange(event) {\n        props.onChangeSetting(event.target.name, event.target.value)\n    }\n\n    return (\n        <div className=\"draftSettingsDraft\">\n            <label>Cards to select from:</label>\n            <input type=\"range\" min=\"2\" max=\"15\" step=\"1\" value={props.draftCount} className=\"slider\" name=\"draftCount1\" onChange={handleChange}/>\n            <span className=\"sliderValue\">{props.draftCount}</span>\n        </div>\n    )\n}\n\nexport default SettingsDraft","import React from 'react'\n\nfunction SettingsPhase(props) {\n    return (\n        <div className=\"draftPhase\">\n            <h4 style={{padding: \"0 0 5px 0\"}}>Stage {props.phase}</h4>\n            <label>Cards to select from:</label>\n            <input type=\"range\" min=\"1\" max=\"15\" value={props.draftCount} className=\"slider\" name=\"draftCount\" onChange={props.onChangeSetting}/>\n            <span className=\"sliderValue\">{props.draftCount}</span>\n            <br />\n            <label>Cards selected in this stage: </label>\n            <input type=\"range\" min=\"0\" max={props.maxCards} value={props.draftCards} className=\"slider\" name=\"draftCards\" onChange={props.onChangeSetting}/>\n            <span className=\"sliderValue\">{props.draftCards}</span>\n            <label>Include cards with limited deck slots:</label>\n            <input type=\"checkbox\" checked={props.draftUseLimited} name=\"draftUseLimited\" className=\"checkbox\" onChange={props.onChangeSetting}/>\n        </div>\n    )\n}\n\nexport default SettingsPhase","import React from 'react'\n\nimport SettingsPhase from './SettingsPhase'\n\nfunction SettingsPhasedDraft(props) {\n    let limit2 = props.deckSize - props.draftCards[0]\n    let limit3 = limit2 - props.draftCards[1]\n    let limit4 = limit3 - props.draftCards[2]\n\n    let warningText2 = null\n    let warningText3 = null\n    let warningStyle2 = {}\n    let warningStyle3 = {}\n    let warningStyle4 = {}\n\n    if (limit2 < props.draftCards[1]) {\n        if (limit2 > 0) warningText2 = \"Only \" + limit2\n        else warningText2 = \"No\"\n\n        warningStyle2 = {display: \"block\"}\n    } else {\n        warningStyle2 = {display: \"none\"}\n    }\n\n    if (limit3 < props.draftCards[2]) {\n        if (limit3 > 0) warningText3 = \"Only \" + limit3\n        else warningText3 = \"No\"\n\n        warningStyle3 = {display: \"block\"}\n        if (limit3 < 0) limit3 = 0;\n    } else {\n        warningStyle3 = {display: \"none\"}\n    }\n\n    if (limit4 > 0) {\n        warningStyle4 = {display: \"block\"}\n    } else {\n        warningStyle4 = {display: \"none\"}\n    }\n\n    function handleChange1(event) {\n        props.onChangeSetting(event.target.name + '1', event.target.value)\n    }\n\n    function handleChange2(event) {\n        props.onChangeSetting(event.target.name + '2', event.target.value)\n    }\n\n    function handleChange3(event) {\n        props.onChangeSetting(event.target.name + '3', event.target.value)\n    }\n\n    return (\n        <div className=\"draftSettingsDraft\">\n            <SettingsPhase phase=\"1\" draftCount={props.draftCount[0]} draftCards={props.draftCards[0]} draftUseLimited={props.draftUseLimited[0]} maxCards={props.deckSize} onChangeSetting={handleChange1} />\n            <SettingsPhase phase=\"2\" draftCount={props.draftCount[1]} draftCards={props.draftCards[1]} draftUseLimited={props.draftUseLimited[1]} maxCards={props.deckSize} onChangeSetting={handleChange2} />\n            <SettingsPhase phase=\"3\" draftCount={props.draftCount[2]} draftCards={props.draftCards[2]} draftUseLimited={props.draftUseLimited[2]} maxCards={props.deckSize} onChangeSetting={handleChange3} />\n            <div className=\"warning\" style={warningStyle2}>\n                <b>Warning:</b> {warningText2} cards will be drawn in Phase 2.\n            </div>\n            <div className=\"warning\" style={warningStyle3}>\n                <b>Warning:</b> {warningText3} cards will be drawn in Phase 3.\n            </div>\n            <div className=\"warning\" style={warningStyle4}>\n                <b>Warning:</b> The final {limit4} cards will be drawn at random.\n            </div>\n        </div>\n    )\n}\n\nexport default SettingsPhasedDraft\n","import React from 'react'\n\nimport SettingsChaos from './SettingsChaos'\nimport SettingsDraft from './SettingsDraft'\nimport SettingsPhasedDraft from './SettingsPhasedDraft'\n\nfunction SettingsBuild(props) {\n    function handleChange(event) {\n        props.onChangeSetting(event.target.name, event.target.value)\n    }\n\n    let draftSettings\n    let draftDescription\n\n    if (props.draftType === 'chaos') {\n        draftSettings = <SettingsChaos \n            onChangeSetting={props.onChangeSetting}\n        />\n        draftDescription = <div className=\"description\">\n            The original Ultimatum of Chaos rules from the 2017 Invocation Event.  A \n            full deck will be created completely randomly from all cards available to \n            the chosen investigator.\n        </div>\n    }\n    else if (props.draftType === 'draft') {\n        draftSettings = <SettingsDraft\n            draftCount={props.draftCount[0]} \n            onChangeSetting={props.onChangeSetting}\n        />\n        draftDescription = <div className=\"description\">\n            Select cards one by one from a random display of cards available to the \n            chosen investigator.  Each card will be selected from a number of cards \n            determined by the \"Cards to select from\" option.  \n        </div>\n    }\n    else if (props.draftType === 'phaseDraft') {\n        draftSettings = <SettingsPhasedDraft\n            draftCount={props.draftCount} \n            draftCards={props.draftCards}\n            draftUseLimited={props.draftUseLimited}\n            deckSize={props.deckSize} \n            onChangeSetting={props.onChangeSetting}\n        />\n        draftDescription = <div className=\"description\">\n            The draft will proceed through 3 distinct stages.  All stages will draft \n            from the full set of cards available to the chosen investigator.  Each stage \n            will draft a number of cards equal to \"Cards selected in this stage\", not \n            including Permanent cards.  Each will be selected from a number of cards \n            determined by the \"Cards to select from\" option.  This allows you to use \n            completely random selection for part of the deck, or use a wider range of \n            choices for part of the deck.\n        </div>\n    }\n\n    return (\n        <div className=\"offsetDiv\">\n            <label>Type:</label>\n            <select name=\"draftType\" value={props.draftType} onChange={handleChange}>\n                <option value=\"chaos\">Standard chaos</option>\n                <option value=\"draft\">Simple draft</option>\n                <option value=\"phaseDraft\">Draft in stages</option>\n            </select>\n            {draftSettings}\n            {draftDescription}\n        </div>\n    )\n}\n\nexport default SettingsBuild","import React from 'react'\n\nimport SettingsChaos from './SettingsChaos'\nimport SettingsDraft from './SettingsDraft'\n\nfunction SettingsUpgrade(props) {\n    function handleChange(event) {\n        props.onChangeSetting(event.target.name, event.target.value)\n    }\n\n    let draftSettings\n\n    if (props.draftType === 'chaos') draftSettings = <SettingsChaos \n            onChangeSetting={props.onChangeSetting}\n        />\n    else if (props.draftType === 'draft') draftSettings = <SettingsDraft\n            draftCount={props.draftCount[0]} \n            onChangeSetting={props.onChangeSetting}\n        />\n\n        return (\n            <div className=\"offsetDiv\">\n            <label>Type:</label>\n            <select name=\"draftType\" value={props.draftType} onChange={handleChange}>\n                <option value=\"chaos\">Standard chaos</option>\n                <option value=\"draft\">Simple draft</option>\n            </select>\n            <label>Weighting:</label>\n            <select name=\"draftWeighting\" value={props.draftWeighting} onChange={handleChange}>\n                <option value=\"low\">Prefer low XP</option>\n                <option value=\"medium\">Default</option>\n                <option value=\"high\">Prefer high XP</option>\n            </select>\n            <label>XP:</label>\n            <input name=\"draftXP\" type=\"number\" value={props.draftXP} min=\"1\" onChange={handleChange}></input>\n            {draftSettings}\n        </div>\n        )\n}\n\nexport default SettingsUpgrade","import React from 'react'\n\nimport SettingsType from './SettingsType'\nimport SettingsBuild from './SettingsBuild'\nimport SettingsUpgrade from './SettingsUpgrade'\n\nfunction Settings(props) {\n    function handleStart(event) {\n        props.onChangeSetting('building', true)\n    }\n\n    const draftSettings = props.draftTab === 'Build Deck' ?\n        <SettingsBuild \n            draftType={props.draftType}\n            draftCount={props.draftCount}\n            draftCards={props.draftCards}\n            draftUseLimited={props.draftUseLimited}\n            deckSize={props.deckSize}\n            onChangeSetting={props.onChangeSetting}\n        /> :\n        <SettingsUpgrade \n            draftType={props.draftType}\n            draftWeighting={props.draftWeighting}\n            draftXP={props.draftXP}\n            draftCount={props.draftCount}\n            draftCards={props.draftCards}\n            deckSize={props.deckSize}\n            onChangeSetting={props.onChangeSetting}\n        />\n\n    const button = props.ready\n        ? (props.filteredCount >= props.deckSize \n            ? <button className=\"button-rect button-green\" onClick={handleStart}>Start</button>\n            : <div>\n                <br />\n                <p style={{color: 'red'}}>There are not enough cards in the selected packs to draft a complete deck.  Add packs in Collection Options.</p>\n                <button className=\"button-rect button-red\">Error</button>\n              </div>)\n        : <button className=\"button-rect button-red\">Loading...</button>\n\n    return (\n        <div className='settings draftSettings'>\n            <SettingsType draftTab={props.draftTab} onChangeSetting={props.onChangeSetting}/>\n            <h3>Draft Options</h3>\n            <h5>{props.draftTab}</h5>\n            {draftSettings}\n            {button}\n        </div>\n    )\n}\n\nexport default Settings","import React from 'react'\n\nfunction CollectionCycle(props) {\n    const { collectionSets, includedSets, columnValue, packData } = props\n\n    function handleChange(event) {\n        if (event.target.name === 'core' && !event.target.checked) props.onChangeSetting('collectionSetOff', includedSets)\n        else if (event.target.name === 'core2' && event.target.checked) props.onChangeSetting('collectionSetOn', includedSets)\n        else if (event.target.checked) props.onChangeSetting('collectionSetOn', [event.target.name])\n        else props.onChangeSetting('collectionSetOff', [event.target.name])\n\n//        if (event.target.name === 'core') {\n//            if (!event.target.checked) props.onChangeSetting('collectionSetOff', ['core2'])\n//        }\n    }\n\n    function handleSelect(event) {\n        props.onChangeSetting('collectionSetOn', includedSets)\n    }\n\n    function handleDeselect(event) {\n        props.onChangeSetting('collectionSetOff', includedSets)\n    }\n\n    const checkboxes = includedSets.map( code => {\n        return (\n            <div key={code}>\n                <input type=\"checkbox\" checked={collectionSets[code]} name={code} className=\"set-checkbox\" onChange={handleChange}/>\n                <label className=\"set-label\">{packData[code]}</label>\n            </div>\n        )\n    })\n\n    return (\n        <div className={'cardSet ' + columnValue}>\n            <h4 className=\"set-header\">{props.header ? props.header : packData[includedSets[0]]}</h4>\n\n            {checkboxes}\n\n            <div style={{position: \"absolute\", right: \"0\", top: \"0\", width: \"40%\"}}>\n                <button className=\"button-deselectset\" value=\"deselect\" title=\"Deselect all\" onClick={() => handleDeselect()}/>\n                <button className=\"button-selectset\" value=\"select\" title=\"Select all\" onClick={() => handleSelect()}/>\n            </div>\n        </div>\n    )\n}\n\nexport default CollectionCycle\n","import React from 'react'\nimport CollectionCycle from './CollectionCycle'\n\nfunction CollectionSettings(props) {\n    const { expandCollection, collectionSets, onChangeSetting } = props\n\n    const packs = {\n        'core': 'Core set',\n        'core2': 'Second core set',\n        'dwl': 'The Dunwich Legacy',\n        'tmm': 'The Miskatonic Museum',\n        'tece': 'The Essex County Express',\n        'bota': 'Blood on the Altar',\n        'uau': 'Undimensioned and Unseen',\n        'wda': 'Where Doom Awaits',\n        'litas': 'Lost in Time and Space',\n        'ptc': 'The Path to Carcosa',\n        'eotp': 'Echoes of the Past',\n        'tuo': 'The Unspeakable Oath',\n        'apot': 'A Phantom of Truth',\n        'tpm': 'The Pallid Mask',\n        'bsr': 'Black Stars Rise',\n        'dca': 'Dim Carcosa',\n        'tfa': 'The Forgotten Age',\n        'tof': 'Threads of Fate',\n        'tbb': 'The Boundary Beyond',\n        'hote': 'Heart of the Elders',\n        'tcoa': 'The City of Archives',\n        'tdoy': 'The Depths of Yoth',\n        'sha': 'Shattered Aeons',\n        'tcu': 'The Circle Undone',\n        'tsn': 'The Secret Name',\n        'wos': 'The Wages of Sin',\n        'tgg': 'For the Greater Good',\n        'uad': 'Union and Disillusion',\n        'icc': 'In the Clutches of Chaos',\n        'bbt': 'Before the Black Throne',\n        'tde': 'The Dream Eaters',\n        'sfk': 'The Search for Kadath',\n        'tsh': 'A Thousand Shapes of Horror',\n        'dsm': 'Dark Side of the Moon',\n        'pnr': 'Point of No Return',\n        'wgd': 'Where the Gods Dwell',\n        'woc': 'Weaver of the Cosmos',\n        'tic': 'The Innsmouth Conspiracy',\n        'nat': 'Nathaniel Cho',\n        'har': 'Harvey Walters',\n        'win': 'Winifred Habbamock',\n        'jac': 'Jacqueline Fine',\n        'ste': 'Stella Clark',\n        'rtnotz': 'Return to the Night of the Zealot',\n        'rtdwl': 'Return to the Dunwich Legacy',\n        'rtptc': 'Return to the Path to Carcosa',\n        'rttfa': 'Return to the Forgotten Age'\n    }\n\n    function handleExpand(event) {\n        props.onChangeSetting('expandCollection', !expandCollection)\n    }\n\n    // I'm lazy, just gonna hard code this...\n    if (expandCollection) {\n        return (\n            <div className=\"settings collectionSettings\">\n                <h3>Collection Options</h3>\n                <div className=\"cardContainer\">\n                    <CollectionCycle \n                        collectionSets={collectionSets}\n                        includedSets={['core', 'core2']}\n                        columnValue='colcenter'\n                        packData={packs}\n                        onChangeSetting={onChangeSetting}\n                    />\n                </div>\n                <div className=\"cardContainer\">\n                    <CollectionCycle \n                        collectionSets={collectionSets}\n                        includedSets={['dwl', 'tmm', 'tece', 'bota', 'uau', 'wda', 'litas']}\n                        columnValue='col1'\n                        packData={packs}\n                        onChangeSetting={onChangeSetting}\n                    />\n                    <CollectionCycle \n                        collectionSets={collectionSets}\n                        includedSets={['ptc', 'eotp', 'tuo', 'apot', 'tpm', 'bsr', 'dca']}\n                        columnValue='col2'\n                        packData={packs}\n                        onChangeSetting={onChangeSetting}\n                    />\n                </div>\n                <div className=\"cardContainer\">\n                    <CollectionCycle \n                        collectionSets={collectionSets}\n                        includedSets={['tfa', 'tof', 'tbb', 'hote', 'tcoa', 'tdoy', 'sha']}\n                        columnValue='col1'\n                        packData={packs}\n                        onChangeSetting={onChangeSetting}\n                    />\n                    <CollectionCycle \n                        collectionSets={collectionSets}\n                        includedSets={['tcu', 'tsn', 'wos', 'tgg', 'uad', 'icc', 'bbt']}\n                        columnValue='col2'\n                        packData={packs}\n                        onChangeSetting={onChangeSetting}\n                    />\n                </div>\n                <div className=\"cardContainer\">\n                    <CollectionCycle \n                        collectionSets={collectionSets}\n                        includedSets={['tde', 'sfk', 'tsh', 'dsm', 'pnr', 'wgd', 'woc']}\n                        columnValue='col1'\n                        packData={packs}\n                        onChangeSetting={onChangeSetting}\n                    />\n                    <CollectionCycle \n                        collectionSets={collectionSets}\n                        includedSets={['tic']}\n                        columnValue='col2'\n                        packData={packs}\n                        onChangeSetting={onChangeSetting}\n                    />\n                </div>\n                <div className=\"cardContainer\">\n                    <CollectionCycle \n                        collectionSets={collectionSets}\n                        includedSets={['nat', 'har', 'win', 'jac', 'ste']}\n                        header='Starter Decks'\n                        columnValue='col1'\n                        packData={packs}\n                        onChangeSetting={onChangeSetting}\n                    />\n                    <CollectionCycle \n                        collectionSets={collectionSets}\n                        includedSets={['rtnotz', 'rtdwl', 'rtptc', 'rttfa']}\n                        header='Return to Boxes'\n                        columnValue='col2'\n                        packData={packs}\n                        onChangeSetting={onChangeSetting}\n                    />\n                </div>\n\n                <button className=\"button-rect button-green\" onClick={handleExpand}>Collapse</button>\n            </div>\n        )\n    }\n    else {\n        var coreCount = collectionSets['core'] + collectionSets['core2']\n        var packCount = 0\n        for (var code in collectionSets) {\n            if (collectionSets[code] === 1) packCount++\n        }\n        packCount -= coreCount\n\n        return (\n            <div className=\"settings collectionSettings\">\n                <h3>Collection Options</h3>\n                <p>{coreCount} core set{coreCount === 1 ? null : 's'}, {packCount} pack{packCount === 1 ? null : 's'} selected</p>\n                <button className=\"button-rect button-green\" onClick={handleExpand}>Expand</button>\n            </div>\n        )\n    }\n}\n\nexport default CollectionSettings\n","import React from 'react'\n\nfunction CardList(props) {\n    const { cardList, cardData, updateCardOverlay } = props\n\n    let assetCount = 0\n    let eventCount = 0\n    let skillCount = 0\n    let otherCount = 0\n    const hand = []\n    const hand2 = []\n    const arcane = []\n    const arcane2 = []\n    const accessory = []\n    const body = []\n    const ally = []\n    const tarot = []\n    const otherasset = []\n    const permanent = []\n    const event = []\n    const skill = []\n    const other = []\n\n    cardList.forEach(item => {\n        if (item.type_code === 'event') {\n            event.push(item)\n            eventCount += item.count\n        }\n        else if (item.type_code === 'skill') {\n            skill.push(item)\n            skillCount += item.count\n        }\n        else if (item.type_code === 'asset') {\n            if (item.permanent) permanent.push(item)\n            else if (item.slot === 'Hand') hand.push(item)\n            else if (item.slot === 'Hand x2') hand2.push(item)\n            else if (item.slot === 'Arcane') arcane.push(item)\n            else if (item.slot === 'Arcane x2') arcane2.push(item)\n            else if (item.slot === 'Accessory') accessory.push(item)\n            else if (item.slot === 'Body') body.push(item)\n            else if (item.slot === 'Ally') ally.push(item)\n            else if (item.slot === 'Tarot') tarot.push(item)\n            else otherasset.push(item)\n            assetCount += item.count\n        }\n        else {\n            other.push(item)\n            otherCount += item.count\n        }\n    })\n\n    function onEnterCardLeft(event) {\n        const cardArray = cardData.filter(item => item.code === event.target.id)\n\n        if (cardArray && cardArray.length > 0) {\n            const imagesrc = \"http://www.arkhamdb.com\" + cardArray[0].imagesrc\n\n            updateCardOverlay(imagesrc, \"Right\")\n        }\n    }\n\n    function onEnterCardRight(event) {\n        const cardArray = cardData.filter(item => item.code === event.target.id)\n\n        if (cardArray && cardArray.length > 0) {\n            const imagesrc = \"http://www.arkhamdb.com\" + cardArray[0].imagesrc\n\n            updateCardOverlay(imagesrc, \"Left\")\n        }\n    }\n\n    function onLeaveCard(event) {\n        updateCardOverlay(null, \"Left\")\n    }\n\n    const assetHeader = assetCount > 0 ? <h4>Assets ({assetCount})</h4> : null\n    \n    const handHeader = hand.length > 0 ? <p className='slot-header'>Hand</p> : null\n    const handContents = hand.sort((a, b) => (a.name > b.name) ? 1 : -1).map((item, index) => {\n        const countStr = item.count > 1 ? ' x' + item.count : null\n\n        return <p id={item.key} onPointerEnter={onEnterCardLeft} onPointerLeave={onLeaveCard} key={index}>{item.name}{countStr}</p>\n    })\n\n    const hand2Header = hand2.length > 0 ? <p className='slot-header'>Hand x2</p> : null\n    const hand2Contents = hand2.sort((a, b) => (a.name > b.name) ? 1 : -1).map((item, index) => {\n        const countStr = item.count > 1 ? ' x' + item.count : null\n\n        return <p id={item.key} onPointerEnter={onEnterCardLeft} onPointerLeave={onLeaveCard} key={index}>{item.name}{countStr}</p>\n    })\n\n    const arcaneHeader = arcane.length > 0 ? <p className='slot-header'>Arcane</p> : null\n    const arcaneContents = arcane.sort((a, b) => (a.name > b.name) ? 1 : -1).map((item, index) => {\n        const countStr = item.count > 1 ? ' x' + item.count : null\n\n        return <p id={item.key} onPointerEnter={onEnterCardLeft} onPointerLeave={onLeaveCard} key={index}>{item.name}{countStr}</p>\n    })\n\n    const arcane2Header = arcane2.length > 0 ? <p className='slot-header'>Arcane x2</p> : null\n    const arcane2Contents = arcane2.sort((a, b) => (a.name > b.name) ? 1 : -1).map((item, index) => {\n        const countStr = item.count > 1 ? ' x' + item.count : null\n\n        return <p id={item.key} onPointerEnter={onEnterCardLeft} onPointerLeave={onLeaveCard} key={index}>{item.name}{countStr}</p>\n    })\n\n    const accessoryHeader = accessory.length > 0 ? <p className='slot-header'>Accessory</p> : null\n    const accessoryContents = accessory.sort((a, b) => (a.name > b.name) ? 1 : -1).map((item, index) => {\n        const countStr = item.count > 1 ? ' x' + item.count : null\n\n        return <p id={item.key} onPointerEnter={onEnterCardLeft} onPointerLeave={onLeaveCard} key={index}>{item.name}{countStr}</p>\n    })\n\n    const bodyHeader = body.length > 0 ? <p className='slot-header'>Body</p> : null\n    const bodyContents = body.sort((a, b) => (a.name > b.name) ? 1 : -1).map((item, index) => {\n        const countStr = item.count > 1 ? ' x' + item.count : null\n\n        return <p id={item.key} onPointerEnter={onEnterCardLeft} onPointerLeave={onLeaveCard} key={index}>{item.name}{countStr}</p>\n    })\n\n    const allyHeader = ally.length > 0 ? <p className='slot-header'>Ally</p> : null\n    const allyContents = ally.sort((a, b) => (a.name > b.name) ? 1 : -1).map((item, index) => {\n        const countStr = item.count > 1 ? ' x' + item.count : null\n\n        return <p id={item.key} onPointerEnter={onEnterCardLeft} onPointerLeave={onLeaveCard} key={index}>{item.name}{countStr}</p>\n    })\n\n    const tarotHeader = tarot.length > 0 ? <p className='slot-header'>Tarot</p> : null\n    const tarotContents = tarot.sort((a, b) => (a.name > b.name) ? 1 : -1).map((item, index) => {\n        const countStr = item.count > 1 ? ' x' + item.count : null\n\n        return <p id={item.key} onPointerEnter={onEnterCardLeft} onPointerLeave={onLeaveCard} key={index}>{item.name}{countStr}</p>\n    })\n\n    const otherassetHeader = otherasset.length > 0 ? <p className='slot-header'>Other</p> : null\n    const otherassetContents = otherasset.sort((a, b) => (a.name > b.name) ? 1 : -1).map((item, index) => {\n        const countStr = item.count > 1 ? ' x' + item.count : null\n\n        return <p id={item.key} onPointerEnter={onEnterCardLeft} onPointerLeave={onLeaveCard} key={index}>{item.name}{countStr}</p>\n    })\n\n    const permanentHeader = permanent.length > 0 ? <p className='slot-header'>Permanent</p> : null\n    const permanentContents = permanent.sort((a, b) => (a.name > b.name) ? 1 : -1).map((item, index) => {\n        const countStr = item.count > 1 ? ' x' + item.count : null\n\n        return <p id={item.key} onPointerEnter={onEnterCardLeft} onPointerLeave={onLeaveCard} key={index}>{item.name}{countStr}</p>\n    })\n\n    const eventHeader = eventCount > 0 ? <h4>Events ({eventCount})</h4> : null\n    const eventContents = event.sort((a, b) => (a.name > b.name) ? 1 : -1).map((item, index) => {\n        const countStr = item.count > 1 ? ' x' + item.count : null\n\n        return <p id={item.key} onPointerEnter={onEnterCardRight} onPointerLeave={onLeaveCard} key={index}>{item.name}{countStr}</p>\n    })\n\n    const skillHeader = skillCount > 0 ? <h4>Skills ({skillCount})</h4> : null\n    const skillContents = skill.sort((a, b) => (a.name > b.name) ? 1 : -1).map((item, index) => {\n        const countStr = item.count > 1 ? ' x' + item.count : null\n\n        return <p id={item.key} onPointerEnter={onEnterCardRight} onPointerLeave={onLeaveCard} key={index}>{item.name}{countStr}</p>\n    })\n\n    const otherHeader = otherCount > 0 ? <h4>Other ({otherCount})</h4> : null\n    const otherContents = other.sort((a, b) => (a.name > b.name) ? 1 : -1).map((item, index) => {\n        const countStr = item.count > 1 ? ' x' + item.count : null\n\n        return <p id={item.key} onPointerEnter={onEnterCardRight} onPointerLeave={onLeaveCard} key={index}>{item.name}{countStr}</p>\n    })\n\n    return (\n        <div className=\"settings deckSettings\">\n            <h3 style={{marginBottom: \"-10px\"}}>Card List</h3>\n            <div className=\"cardContainer\">\n                <div className=\"col1\">\n                    {assetHeader}\n                    {handHeader}\n                    {handContents}\n                    {hand2Header}\n                    {hand2Contents}\n                    {arcaneHeader}\n                    {arcaneContents}\n                    {arcane2Header}\n                    {arcane2Contents}\n                    {accessoryHeader}\n                    {accessoryContents}\n                    {bodyHeader}\n                    {bodyContents}\n                    {allyHeader}\n                    {allyContents}\n                    {tarotHeader}\n                    {tarotContents}\n                    {otherassetHeader}\n                    {otherassetContents}\n                    {permanentHeader}\n                    {permanentContents}\n                </div>\n                <div className=\"col2\">\n                    {eventHeader}\n                    {eventContents}\n                    {skillHeader}\n                    {skillContents}\n                    {otherHeader}\n                    {otherContents}\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default CardList\n","import React from 'react'\n\nfunction DraftArea(props) {\n    const { draftCount, draftPool, draftCard, draftType, phase, cardList, updateCardList, updateDraftPool } = props\n\n    let newList = []\n    newList = newList.concat(cardList)\n\n    function handleClick(event) {\n        const index = draftPool.findIndex(item => {\n            return event.target.src.includes(item.imagesrc)\n        })\n\n        const updatedList = draftCard(draftPool[index], newList)\n\n        updateCardList(updatedList)\n        updateDraftPool([])\n    }\n\n    let images = []\n\n    for (let i = 0; i < draftCount; i++) {\n        const imageSrc = \"https://www.arkhamdb.com\" + draftPool[i].imagesrc\n        images.push(<div className=\"draft-card\" key={i}><img className=\"draft-image\" src={imageSrc} alt={draftPool[i].name} onClick={handleClick}/></div>)\n    }\n\n    const phaseText = draftType === 'phaseDraft' ? ' - Stage ' + phase : null\n\n    return (\n        <div className=\"settings draftAreaSettings\">\n            <h3>Draft{phaseText}</h3>\n            <div className='draft-container'>\n                {images}\n            </div>\n            <p>Click image to draft card</p>\n        </div>\n    )\n}\n\nexport default DraftArea","import React from 'react'\n\nimport CardList from './CardList'\nimport DraftArea from './DraftArea'\n\nfunction Draft(props) {\n    const { investigator, deckSize, draftTab, draftXP, draftCount, draftProgress, draftType, phase, cardList, draftPool, cardData, draftCard, updateCardList, updateDraftPool, resetApp, updateCardOverlay } = props\n\n    let investigatorCardImage = null\n    let investigatorCardImageBack = null\n\n    if (cardData) {\n        const investigatorID = Object.keys(cardData)\n        .filter(key => {\n            return  cardData[key].name === investigator\n        })[0]\n\n        const imagesrc = \"https://www.arkhamdb.com\" + cardData[investigatorID].imagesrc\n        const backimagesrc = \"https://www.arkhamdb.com\" + cardData[investigatorID].backimagesrc\n        investigatorCardImage = <img className=\"investigator-image\" src={imagesrc} alt={props.investigator} />\n        investigatorCardImageBack = <img className=\"investigator-image\" src={backimagesrc} alt={props.investigator + ' (back)'} />\n    }\n\n    let draftContent = null\n\n    if (draftPool.length > 0) {\n        draftContent = <DraftArea \n            draftCount={draftCount}\n            draftCard={draftCard}\n            phase={phase}\n            draftType={draftType}\n            draftPool={draftPool}\n            cardList={cardList}\n            updateCardList={updateCardList}\n            updateDraftPool={updateDraftPool}\n        />\n    }\n\n    const progress = draftTab === 'Build Deck' ? \n        <p><b>Cards: </b>{draftProgress}/{deckSize}</p> : \n        <p><b>XP: </b>{draftProgress}/{draftXP}</p>\n\n    return (\n        <div>\n            <div className=\"settings draftHeaderSettings\">\n                <h2>{investigator}</h2>\n                <br />\n                {investigatorCardImage}\n                {investigatorCardImageBack}\n                {progress}\n            </div>\n            {draftContent}\n            <CardList \n                cardList={cardList}\n                cardData={cardData}\n                updateCardOverlay={updateCardOverlay}\n            />\n            <button className='button-rect button-green' onClick={resetApp}>Restart</button>\n        </div>\n    )\n}\n\nexport default Draft","// card data:\n// pack_code\n// pack_name\n// type_code\n        // treachery\n        // investigator\n        // asset\n        // event\n        // skill\n        // enemy\n        // story\n        // location\n// type_name\n// subtype_code\n// faction_code\n// faction_name\n// position\n// exceptional\n// myriad\n// code\n// name\n// real_name\n// subname\n// text\n// real_text\n// quantity\n// skill_willpower\n// skill_intellect\n// skill_combat\n// skill_agility\n// clues_fixed\n// health\n// health_per_investigator\n// sanity\n// deck_limit\n// traits\n// real_traits\n// deck_requirements\n// deck_options\n// flavor\n// illustrator\n// is_unique\n// exile\n// hidden\n// permanent\n// double_sided\n// back_text\n// back_flavor\n// octgn_id\n// url\n// imagesrc\n// backimagesrc\n\n// slot\n    // Hand\n    // Accessory\n    // Ally\n    // Hand x2\n    // Arcane\n    // Body\n    // Tarot\n// restrictions\n// cost\n// xp\n\nfunction FilterCards(props) {\n    const { investigator, secondaryClass, cardData, cardList, deckSize, upgrade, draftUseLimited, draftXP, collectionSets } = props\n\n    const investigatorID = Object.keys(cardData)\n    .filter(key => {\n        return cardData[key].name === investigator\n    })[0]\n\n    const deckOptions = cardData[investigatorID].deck_options\n\n    const filteredDeck = filterDeckForLimited(cardList, deckOptions)\n\n    // requirement trait: exclude if it doesn't pass a different option AND the requirement\n    let requirementOptions = null\n\n    if (investigator === 'Joe Diamond') {\n        const joeRequiredCards = cardList.filter(item => {\n            const cardTraits = item.traits\n\n            if (cardTraits && cardTraits.search(new RegExp('insight', \"i\")) >= 0)\n                return true\n\n            return false\n        })\n\n        if (deckSize - countDeck(cardList) + countDeck(joeRequiredCards) <= 10) {\n            requirementOptions = [{\n                requirement: 10,\n                trait: 'insight'\n            }]\n        }\n    }\n    else if (investigator === 'Lola Hayes') {\n        const lolaRequiredCards = ['guardian', 'seeker', 'rogue', 'mystic', 'survivor'].map(faction => {\n            return {\n                faction: faction,\n                count: countDeck(cardList.filter(item => {\n                    if (item.faction_code === faction) {\n                        return true\n                    }\n                    if (item.faction2_code === faction) {\n                        return true\n                    }\n\n                    return false\n                }))\n            }\n        }).sort((e1, e2) => e2.count - e1.count)\n\n        let count = 0\n        for (let i = 0; i < 3; i++) {\n            count += Math.min(7, lolaRequiredCards[i].count)\n        }\n\n        if (deckSize - countDeck(cardList) + count <= 21) {\n            const minCount = lolaRequiredCards[2].count\n\n            let factionRequirement = []\n            for (let i = 0; i < 5; i++) {\n                if (lolaRequiredCards[i].count < 7 && lolaRequiredCards[i].count >= minCount) factionRequirement.push(lolaRequiredCards[i].faction)\n            }\n\n            requirementOptions = [{\n                requirement: 7,\n                faction: factionRequirement\n            }]\n        }\n    }\n\n    let minLevel = 0\n    let maxLevel = 0\n\n    if (upgrade) {\n        minLevel = 1\n        maxLevel = draftXP\n    }\n//console.log('Filter : ' + props.draftXP)\n    const filteredData = cardData.filter(card => {\n        if (card.type_code === 'investigator') return false\n        if (card.type_code === 'story') return false\n        if (card.type_code === 'location') return false\n        if (card.type_code === 'enemy') return false\n        if (card.type_code === 'treachery') return false\n        if (card.bonded_to) return false\n        // currently means weakness\n        if (card.subtype_code) return false\n\n        let xp = 0\n        if (card.xp) xp = card.xp\n        if (card.tabooxp) xp += card.tabooxp\n        if (card.exceptional || card.tabooexceptional) xp *= 2\n        \n        if (xp < minLevel) return false\n        if (xp > maxLevel) return false\n\n//        arcane research!!!! oh no!!\n//        green man medallion as well\n\n        if (card.restrictions && card.restrictions.investigator) return false\n        if (!collectionSets[card.pack_code]) return false\n\n        // this isn't right for upgrades yet\n        let legal = false\n        let rejected = false\n\n        for (let i = 0; i < deckOptions.length; i++) {\n            if (deckOptions[i].requirement) continue\n\n            let optionLegal = false\n\n            if (testDeckOption(card, deckOptions[i])) {\n                optionLegal = true\n\n                if (deckOptions[i].not) {\n//console.log('Reject : ' + card.name)\n//                    optionLegal = false\n                    rejected = true\n                }\n                else if (deckOptions[i].limit) {\n                    if (!draftUseLimited) optionLegal = false\n                    else {\n                        const inDeck = countDeckLimited(filteredDeck, deckOptions[i])\n//console.log('In deck : ' + inDeck)\n                        if (inDeck >= deckOptions[i].limit) {\n//console.log('Over limit : ' + card.name)\n                            optionLegal = false\n                        }\n                    }\n                }\n            }\n\n            if (optionLegal) legal = true\n        }\n//console.log(legal)\n//console.log(rejected)\n        if (!legal || rejected) return false\n\n        // check to see if there's already max in the deck\n        let limited = false\n        \n        cardList.forEach(item => {\n            if (item.name === card.name) {\n                var deckLimit = card.deck_limit\n                var quantity = card.quantity\n\n                if (card.pack_code === 'core' && collectionSets['core2'] === 0 && quantity < deckLimit) deckLimit = quantity\n\n                if (item.count >= deckLimit) {\n//console.log(card.name + ' : Over the limit')\n                    limited = true\n                }\n            }\n        })\n\n        if (limited) return false\n\n        // check to see if it passes all required tests\n        if (requirementOptions) {\n            for (let i = 0; i < requirementOptions.length; i++) {\n                if (!testDeckOption(card, requirementOptions[i])) {\n                    return false\n                }\n            }\n        }\n\n        return true\n    })\n\n    function filterDeckForLimited(list, options) {\n        if (!list) return []\n\n        let filteredDeck = []\n\n        list.forEach(item => {\n            let legal = false\n\n            for (let i = 0; i < options.length; i++) {\n                if (options[i].limit) continue;\n\n                const optionLegal = testDeckOption(item, options[i])\n\n                if (optionLegal) legal = true\n            }\n\n            if (!legal) filteredDeck.push(item)\n        })\n\n        return filteredDeck\n    }\n    \n    function countDeck(list) {\n        let count = 0\n\n        if (list) {\n            list.forEach(item => {\n                if (!item.permanent) count += item.count\n            })\n        }\n\n        return count\n    }\n    \n    function countDeckLimited(list, option) {\n        let count = 0\n\n        if (list) {\n            list.forEach(item => {\n                if (testDeckOption(item, option)) {\n                    count += item.count\n                }\n            })\n        }\n\n        return count\n    }\n\n    function testDeckOption(card, option) {\n//console.log(option)\n        let level = true\n        let faction = true\n        let secondaryFaction = true\n        let trait = true\n        let uses = true\n        let type = true\n        let text = true\n\n        if (option.name === 'Secondary Class') {\n            secondaryFaction = false\n\n            if (card.faction_code === secondaryClass) {\n                secondaryFaction = true\n            }\n            if (card.faction2_code === secondaryClass) {\n                secondaryFaction = true\n            }\n        }\n\n        if (option.faction) {\n            faction = false\n\n            for (let f = 0; f < option.faction.length; f++) {\n                if (card.faction_code === option.faction[f]) {\n                    faction = true\n                }\n                if (card.faction2_code === option.faction[f]) {\n                    faction = true\n                }\n            }\n        } \n\n        if (option.level) {\n            level = false\n\n            const min = option.level.min\n            const max = option.level.max\n\n            const ixp = card.xp === undefined ? 0 : card.xp\n\n            if (ixp >= min && ixp <= max) level = true;\n        }\n\n        if (option.trait) {\n//console.log('Trait')\n//console.log(option.trait)\n            trait = false\n\n            const cardTraits = card.traits\n//console.log(cardTraits)\n            if (cardTraits && cardTraits.search(new RegExp(option.trait, \"i\")) >= 0)\n                trait = true\n//console.log(trait)\n            }\n\n        if (option.uses) {\n            uses = false\n\n            const cardText = card.text\n\n            if (cardText && cardText.search(new RegExp('Uses \\\\([0-9\\\\s]+' + option.uses[0] + '\\\\)', \"i\")) >= 0)\n                uses = true\n        }\n\n        if (option.type) {\n            type = false\n\n            const cardType = card.type_code\n\n            if (cardType && option.type.find(item => item === cardType))\n                type = true\n        }\n           \n        if (option.text) {\n            text = false\n            \n            if (card.text && card.text.search(new RegExp(option.text, \"i\")) >= 0)\n                text = true\n        }\n            \n//console.log(faction + ' ' + level + ' ' + trait + ' ' + uses + ' ' + type + ' ' + secondaryFaction)\n        return faction && level && trait && uses && type && secondaryFaction && text\n    }\n\n    return filteredData\n}\n\nexport default FilterCards\n\n/* odds research\n            // stat test\n            const setArray = [ 'core'\n                ,'dwl', 'tmm', 'tece', 'bota', 'uau', 'wda', 'litas'\n                ,'ptc', 'eotp', 'tuo', 'apot', 'tpm', 'bsr', 'dca'\n                ,'tfa', 'tof', 'tbb', 'hote', 'tcoa', 'tdoy', 'sha'\n                ,'tcu', 'tsn', 'wos', 'fgg', 'uad', 'icc', 'bbt'\n                ,'tde', 'sfk', 'tsh', 'dsm', 'pnr', 'wgd', 'woc'\n                ,'rtnotz', 'rtdwl', 'rtptc'\n            ]\n\n//            const assets = countCards('asset', setArray)\n//            const events = countCards('event', setArray)\n//            const skills = countCards('skill', setArray)\n\n            const hand = countCards('asset', 'Hand', setArray)\n            const hands2 = countCards('asset', 'Hand x2', setArray)\n            const ally = countCards('asset', 'Ally', setArray)\n            const accessory = countCards('asset', 'Accessory', setArray)\n            const arcane = countCards('asset', 'Arcane', setArray)\n            const body = countCards('asset', 'Body', setArray)\n            const tarot = countCards('asset', 'Tarot', setArray)\n\n//            console.log('Assets: ' + assets)\n//            console.log('Events: ' + events)\n//            console.log('Skills: ' + skills)\n\n            console.log('Hand: ' + hand)\n            console.log('Ally: ' + ally)\n            console.log('Arcane: ' + arcane)\n            console.log('2xHands: ' + hands2)\n            console.log('Accessory: ' + accessory)\n            console.log('Body: ' + body)\n            conso le.log('Tarot: ' + tarot)\n*/\n/* odds research\n    function countCards(cardType, cardSlot, sets) {\n        const filteredData = cardData.filter(card => {\n            // currently means weakness\n            if (card.type_code !== cardType) return false\n            if (card.subtype_code) return false\n            if (card.slot && card.slot !== cardSlot) return false\n            if (!card.slot) return false\n//            if (card.xp && card.xp > 0) return false            \n            if (card.restrictions && card.restrictions.investigator) return false\n    //        console.log(card.slot + ' <=> ' + cardSlot + ' (' + card.name + ')')\n    \n            let foundSet = false\n            for (let i = 0; i < sets.length; i++) {\n                if (card.pack_code === sets[i]) foundSet = true\n            }\n\n            return foundSet\n        })\n\n        return filteredData.length\n    }\n*/\n\n","import React, { useState } from 'react'\n\nimport './App.css';\n\nimport InvestigatorSettings from './components/options/InvestigatorSettings'\nimport Settings from './components/options/Settings'\nimport CollectionSettings from './components/options/CollectionSettings'\n\nimport Draft from './components/draft/Draft'\nimport FilterCards from './components/DraftFilters'\n\nfunction App(props) {\n    let contents = null\n\n    const [overlayImage, updateOverlayImage] = useState(null)\n    const [overlayPosition, updateOverlayPosition] = useState('Left\"')\n\n    function updateCardOverlay(image, position) {\n        updateOverlayImage(image)\n        updateOverlayPosition(position)\n    }\n\n    let overlay = null\n\n    if (overlayImage) {\n        overlay = <div className={\"floatingImage\"+overlayPosition}><img src={overlayImage} alt=\"\" /></div>\n    }\n\n    if (props.fetchError) {\n        contents = \n            <div>\n                Fetch error!\n            </div>\n    }\n    else if (!props.cardData || !props.tabooData) {\n        contents =\n            <div style={{marginBottom: \"20px\"}}>\n                Loading...\n            </div>\n    }\n    else if (props.building) {\n        contents = \n            <Draft\n                draftType={props.draftType}\n                draftTab={props.draftTab}\n                investigator={props.investigator} \n                secondaryClass={props.secondaryClass} \n                deckSize={props.deckSize}\n                draftXP={props.draftXP}\n                draftCount={props.draftCount[props.phase-1]}\n                draftCards={props.draftCards[props.phase-1]}\n                draftProgress={props.draftProgress}\n                phase={props.phase}\n                cardList={props.cardList}\n                cardData={props.cardData}\n                draftPool={props.draftPool}\n                draftCard={props.draftCard}\n                updateCardList={props.updateCardList}\n                updateDraftPool={props.updateDraftPool}\n                updateCardOverlay={updateCardOverlay}\n                resetApp={props.resetApp}\n            />\n    }\n    else {\n        // do we have enough cards??\n        var filteredCount = 0\n\n        const filteredCards = FilterCards({\n            investigator: props.investigator,\n            secondaryClass: props.secondaryClass,\n            deckSize: props.deckSize,\n//            draftCount: draftCount[phase-1],\n            draftUseLimited: [true, true, true],\n            draftXP: props.draftXP,\n            upgrade: (props.draftTab === 'Upgrade'),\n            cardList: props.cardList,\n            cardData: props.cardData,\n            collectionSets: props.collectionSets\n//            draftCard: draftCard\n            })\n\n        filteredCards.forEach( card => {\n            if (!card.deck_limit) return\n            if (!(card.type_code === 'asset' || card.type_code === 'event' || card.type_code === 'skill')) return\n            if (card.subtype_code === 'weakness' || card.subtype_code === 'basicweakness') return\n            if (!props.collectionSets[card.pack_code] || props.collectionSets[card.pack_code] === 0) return\n            if (card.restrictions) {\n                if (card.restrictions['investigator']) return\n            }\n\n            var cardLimit = card.deck_limit\n            var quantity = card.quantity\n\n            if (props.collectionSets[card.pack_code] === 1) {\n                if (card.pack_code === 'core' && props.collectionSets['core2'] === 0 && quantity < cardLimit) cardLimit = quantity\n            }\n\n            filteredCount += cardLimit\n        })\n\n        // there has to be enonpm ugh extra to allow for a final card choice\n        if (props.draftType === 'chaos') filteredCount -= 2\n        else filteredCount -= 30    // max of 15 draft options * counting 2 each in filteredCount\n\n        contents = \n        <div>\n            <InvestigatorSettings \n                investigator={props.investigator}\n                secondaryClass={props.secondaryClass}\n                selectedDeckSize={props.selectedDeckSize}\n                selectedTaboo={props.selectedTaboo}\n                deckSize={props.deckSize}\n                cardData={props.cardData}\n                tabooData={props.tabooData}\n                onChangeSetting={props.handleChange}\n            />\n            <CollectionSettings \n                expandCollection={props.expandCollection}\n                collectionSets={props.collectionSets}\n                onChangeSetting={props.handleChange}\n            />\n            <Settings\n                draftTab={props.draftTab}\n                draftType={props.draftType}\n                draftWeighting={props.draftWeighting}\n                draftXP={props.draftXP}\n                draftCount={props.draftCount}\n                draftCards={props.draftCards}\n                draftUseLimited={props.draftUseLimited}\n                deckSize={props.deckSize}\n                ready={props.ready}\n                filteredCount={filteredCount}\n                onChangeSetting={props.handleChange}\n            />\n        </div>\n    }\n\n    return (\n        <div className=\"App\">\n            <header className=\"App-header\">\n            ArkhamDraft\n            </header>\n            {contents}\n            {overlay}\n            <div className=\"copyright\" style={{padding: \"5px\", boxSizing: \"border-box\"}}>\n                Arkham Horror: The Card Game and all information presented here, both literal and graphical, is copyrighted by Fantasy Flight Games. This website is not produced, endorsed, supported, or affiliated with Fantasy Flight Games.\n            </div>\n        </div>\n    )\n}\n\nexport default App;\n","function DrawCard(cardData, draftPool) {\n    let legal = false\n    let randomCard = null\n\n    if (cardData.length === 0) return null\n\n    while (!legal) {\n        randomCard = cardData[Math.floor(Math.random() * cardData.length)]\n\n        const randomCode = randomCard.code\n        const existingIndex = (draftPool && draftPool.length > 0) ? draftPool.findIndex(item => item.code === randomCode) : -1\n        \n        if (existingIndex < 0) legal = true\n    }\n\n    return randomCard\n}\n\nexport default DrawCard","import DrawCard from './DraftData'\nimport FilterCards from './DraftFilters'\n\nfunction StandardChaos(props) {\n    const { draftCards, draftCard, cardList, investigator } = props;\n    let newList = []\n\n    newList = newList.concat(cardList)\n\n    let draftProgress = 0;\n\n    while (draftProgress < draftCards) {\n        // generates all cards, sets cardList state\n        // need to do it each iteration for all investigators whose filter depends on the cards in the deck\n        props.cardList = newList\n        let filteredData = FilterCards(props)\n\n        const card = DrawCard(filteredData)\n\n        newList = draftCard(card, newList)\n\n        if (!card.permanent) draftProgress++\n\n        if (investigator === 'Joe Diamond' || investigator === 'Lola Hayes') {\n            props.cardList = newList\n            filteredData = FilterCards(props)\n        }\n    }\n\n    return newList\n}\n\nexport default StandardChaos","import DrawCard from './DraftData'\nimport FilterCards from './DraftFilters'\n\nfunction SimpleDraft(props) {\n    const { draftCount } = props\n\n    // generates draft cards\n    const filteredData = FilterCards(props)\n\n    let draftPool = []\n\n    for (let i = 0; i < draftCount; i++) {\n        const card = DrawCard(filteredData, draftPool)\n\n        draftPool.push(card)\n    }\n\n    return draftPool\n}\n\nexport default SimpleDraft","import React, { useState, useEffect } from 'react';\n\nimport App from './App';\nimport StandardChaos from './components/StandardChaos'\nimport SimpleDraft from './components/SimpleDraft'\n\nfunction AppContainer() {\n    const [investigator, changeInvestigator] = useState(\"Agnes Baker\")\n    const [secondaryClass, changeSecondaryClass] = useState(null)\n    const [selectedDeckSize, changeSelectedDeckSize] = useState(null)\n    const [selectedTaboo, changeSelectedTaboo] = useState('None')\n    const [deckSize, changeDeckSize] = useState(\"30\")\n    const [draftTab, changeDraftTab] = useState(\"Build Deck\")\n    const [draftType, changeDraftType] = useState(\"draft\")\n    const [draftWeighting, changeDraftWeighting] = useState('medium')\n    const [draftXP, changeDraftXP] = useState(1)\n    const [draftCount, changeDraftCount] = useState([3, 3, 3])\n    const [draftCards, changeDraftCards] = useState([10, 10, 10])\n    const [draftUseLimited, changeDraftUseLimited] = useState([true, true, true])\n    const [building, changeBuilding] = useState(false)\n    const [newPhase, changeNewPhase] = useState(true)\n//    const [fetching, changeFetching] = useState(false)\n    const [cardData, updateCardData] = useState(null)\n    const [tabooData, updateTabooData] = useState(null)\n//    const [tabooCardData, updateTabooCardData] = useState(null)\n    const [fetchError, updateFetchError] = useState(false)\n    const [cardList, updateCardList] = useState([])\n    const [draftPool, updateDraftPool] = useState([])\n    const [phase, changePhase] = useState(1)\n    const [complete, changeComplete] = useState(false)\n\n    const [collectionSets, updateCollectionSets] = useState({ 'core': 1, 'core2': 1\n        ,'dwl': 1, 'tmm': 1, 'tece': 1, 'bota': 1, 'uau': 1, 'wda': 1, 'litas': 1\n        ,'ptc': 1, 'eotp': 1, 'tuo': 1, 'apot': 1, 'tpm': 1, 'bsr': 1, 'dca': 1\n        ,'tfa': 1, 'tof': 1, 'tbb': 1, 'hote': 1, 'tcoa': 1, 'tdoy': 1, 'sha': 1\n        ,'tcu': 1, 'tsn': 1, 'wos': 1, 'tgg': 1, 'uad': 1, 'icc': 1, 'bbt': 1\n        ,'tde': 1, 'sfk': 1, 'tsh': 1, 'dsm': 1, 'pnr': 1, 'wgd': 1, 'woc': 1\n        ,'tic': 1\n        ,'rtnotz': 1, 'rtdwl': 1, 'rtptc': 1, 'rttfa': 1\n        ,'nat': 1, 'har': 1, 'win': 1, 'jac': 1, 'ste': 1\n        ,'books' : 0 })\n    const [expandCollection, changeExpandCollection] = useState(false)\n\n    // card count for Build, xp for Upgrade\n    let draftProgressBuild = 0\n    let draftProgressUpgrade = 0\n\n    if (cardList) {\n        for (let item in cardList) {\n            // permanent don't count\n            if (!cardList[item].permanent) draftProgressBuild += cardList[item].count\n            draftProgressUpgrade += cardList[item].xp * cardList[item].count;\n        }\n    }\n\n    useEffect(() => fetchData(), [])\n\n    useEffect(() => fetchTaboo(), [])\n\n    function fetchData() {\n//        fetch(\"https://cors-anywhere.herokuapp.com/https://arkhamdb.com/api/public/cards/\")\n        fetch(\"https://arkhamdb.com/api/public/cards/\")\n        .then(res => {\n            return res.json()\n        })\n        .then(res => {\n            updateCardData(res)\n        })\n        .catch(() => updateFetchError(true))\n    }\n\n    function fetchTaboo() {\n//        fetch(\"https://cors-anywhere.herokuapp.com/https://arkhamdb.com/api/public/cards/\")\n        fetch(\"https://arkhamdb.com/api/public/taboos/\")\n        .then(res => {\n            return res.json()\n        })\n        .then(res => {\n            res = res.map(item => {\n                item.cards = JSON.parse(item.cards)\n                return item\n            }).sort((item1, item2) => item1.id > item2.id ? 1 : -1)\n\n            updateTabooData(res)\n        })\n        .catch(() => {})\n    }\n\n    function mergeTabooData(cData, tData) {\n        var tCardData = cData.map(item => {\n            delete item.tabooxp\n            delete item.tabooexceptional\n\n            var tabooEntry = null\n            \n            if (tData.length > 0) tabooEntry = tData[0].cards.filter(taboo => taboo.code === item.code)\n\n            if (tabooEntry) {\n                tabooEntry.forEach(taboo => {\n                    if (taboo.xp) item.tabooxp = taboo.xp\n                    if (taboo.exceptional) item.tabooexceptional = true\n                })\n            }\n            \n            return item\n        })\n\n        return tCardData\n    }\n\n    useEffect(() => {\n        if (building && !complete) {\n            const draftProgress = (draftTab === 'Build Deck') ? draftProgressBuild : draftProgressUpgrade\n            let draftTarget = 0\n\n            if (draftTab === 'Build Deck') {\n                if (draftType === 'phaseDraft') {\n                    if (phase > 3) draftTarget = deckSize\n                    else for (let i = 0; i < phase; i++) draftTarget += parseInt(draftCards[i], 10)\n                    \n                    if (draftTarget > deckSize) draftTarget = deckSize\n                }\n                else {\n                    draftTarget = deckSize\n                }\n            }\n            else\n            {\n                draftTarget = draftXP\n            }\n\n            if (newPhase) {\n                if (draftType === 'chaos') {\n                    // first (and only) time through\n                    const list = StandardChaos({\n                        investigator: investigator,\n                        secondaryClass: secondaryClass,\n//                        selectedTaboo: tabooData.filter(item => item.code === selectedTaboo ? true : false),\n                        deckSize: deckSize,\n                        draftCards: deckSize,\n                        draftXP: draftXP - draftProgress,\n                        upgrade: (draftTab === 'Upgrade'),\n                        cardList: cardList,\n                        collectionSets: collectionSets,\n//                        tabooData: tabooData,\n                        cardData: cardData,\n                        draftCard: draftCard\n                    })\n        \n                    updateCardList(list)\n                    changeNewPhase(false)\n                    changeComplete(true)\n                }\n                else if (draftProgress < draftTarget) {\n                    if (draftCount[phase-1] === '1') {\n                        const list = StandardChaos({\n                            investigator: investigator,\n                            secondaryClass: secondaryClass,\n                            deckSize: deckSize,\n                            draftCards: draftTarget - draftProgress,\n                            draftXP: draftXP - draftProgress,\n                            upgrade: (draftTab === 'Upgrade'),\n                            cardList: cardList,\n                            cardData: cardData,\n                            collectionSets: collectionSets,\n//                            tabooData: tabooData.filter(item => item.code === selectedTaboo ? true : false),\n                            draftCard: draftCard\n                        })    \n        \n                        updateCardList(list)\n                        changePhase(phase + 1)\n                    }\n                    else {\n                        const pool = SimpleDraft({\n                            investigator: investigator,\n                            secondaryClass: secondaryClass,\n                            deckSize: deckSize,\n                            draftCount: draftCount[phase-1],\n                            draftUseLimited: draftUseLimited[phase-1],\n                            draftXP: draftXP - draftProgress,\n                            upgrade: (draftTab === 'Upgrade'),\n                            cardList: cardList,\n                            cardData: cardData,\n                            collectionSets: collectionSets,\n//                            tabooData: tabooData.filter(item => item.code === selectedTaboo ? true : false),\n                            draftCard: draftCard\n                            })\n    \n                        updateDraftPool(pool)    \n                        changeNewPhase(false)\n                    }\n                }\n            }\n            else {\n                if (draftPool.length < 1) {\n                    if (draftType === 'draft') {\n                        if (draftProgress < draftTarget) {\n                            const pool = SimpleDraft({\n                                investigator: investigator,\n                                secondaryClass: secondaryClass,\n                                deckSize: deckSize,\n                                draftCount: draftCount[phase-1],\n                                draftUseLimited: draftUseLimited[phase-1],\n                                draftXP: draftXP - draftProgress,\n                                upgrade: (draftTab === 'Upgrade'),\n                                cardList: cardList,\n                                cardData: cardData,\n                                collectionSets: collectionSets,\n//                                tabooData: tabooData.filter(item => item.code === selectedTaboo ? true : false),\n                                draftCard: draftCard\n                            })\n        \n                            updateDraftPool(pool)\n                        }\n                        else {\n                            changeComplete(true)\n                        }\n                    }\n                    else {\n                        if (draftProgress < draftTarget) {\n                            const pool = SimpleDraft({\n                                investigator: investigator,\n                                secondaryClass: secondaryClass,\n                                deckSize: deckSize,\n                                draftCount: draftCount[phase-1],\n                                draftUseLimited: draftUseLimited[phase-1],\n                                draftXP: draftXP - draftProgress,\n                                upgrade: (draftTab === 'Upgrade'),\n                                cardList: cardList,\n                                cardData: cardData,\n                                collectionSets: collectionSets,\n//                                tabooData: tabooData.filter(item => item.code === selectedTaboo ? true : false),\n                                draftCard: draftCard\n                            })\n    \n                            updateDraftPool(pool)\n                        }\n                        else {\n                            if (phase >= 3) {\n                                if (draftProgress < deckSize) {\n                                    const list = StandardChaos({\n                                        investigator: investigator,\n                                        secondaryClass: secondaryClass,\n                                        deckSize: deckSize,\n                                        draftCards: deckSize - draftProgress,\n                                        draftXP: draftXP - draftProgress,\n                                        upgrade: (draftTab === 'Upgrade'),\n                                        cardList: cardList,\n                                        cardData: cardData,\n                                        collectionSets: collectionSets,\n//                                        tabooData: tabooData.filter(item => item.code === selectedTaboo ? true : false),\n                                        draftCard: draftCard\n                                    })    \n                \n                                    updateCardList(list)\n                                }\n                                \n                                changeComplete(true)\n                            }\n                            else {\n                                changePhase(phase + 1)\n                                changeNewPhase(true)\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    }, [building, complete, newPhase, draftType, draftProgressBuild, draftProgressUpgrade, deckSize, investigator, cardList, cardData, tabooData, collectionSets, draftCount, draftUseLimited, phase, draftCards, draftPool, draftTab, draftXP, secondaryClass])\n\n    function handleChange(name, value) {\n        if (name === 'investigator') {\n            changeInvestigator(value)\n\n            if (cardData && !selectedDeckSize) {\n                const investigatorID = Object.keys(cardData)\n                .filter(key => {\n                    return  cardData[key].name === value\n                })[0]\n\n                changeDeckSize(cardData[investigatorID].deck_requirements.size)\n\n                const classOptions = cardData[investigatorID].deck_options.filter(item => item.name === 'Secondary Class')\n\n                if (classOptions.length > 0) {\n                    changeSecondaryClass(classOptions[0].faction_select[0])\n                }\n            }\n        }\n        else if (name === 'secondaryClass') changeSecondaryClass(value)\n        else if (name === 'selectedDeckSize') {\n            changeSelectedDeckSize(value)\n            changeDeckSize(value)\n        }\n        else if (name === 'draftTab') changeDraftTab(value)\n        else if (name === 'draftType') changeDraftType(value)\n        else if (name === 'draftWeighting') changeDraftWeighting(value)\n        else if (name === 'draftXP') changeDraftXP(value)\n        else if (name === 'draftCount1') doChangeDraftCount(1, value)\n        else if (name === 'draftCount2') doChangeDraftCount(2, value)\n        else if (name === 'draftCount3') doChangeDraftCount(3, value)\n        else if (name === 'draftCards1') doChangeDraftCards(1, value)\n        else if (name === 'draftCards2') doChangeDraftCards(2, value)\n        else if (name === 'draftCards3') doChangeDraftCards(3, value)\n        else if (name === 'draftUseLimited1') doChangeDraftUseLimited(1, value)\n        else if (name === 'draftUseLimited2') doChangeDraftUseLimited(2, value)\n        else if (name === 'draftUseLimited3') doChangeDraftUseLimited(3, value)\n        else if (name === 'taboo') changeSelectedTaboo(value)\n        else if (name === 'expandCollection') changeExpandCollection(value)\n        else if (name === 'collectionSetOn') {\n            var addCollectionSets = { ...collectionSets }\n            \n            value.forEach( set => {\n                addCollectionSets[set] = 1\n            })\n\n            updateCollectionSets(addCollectionSets)\n        }\n        else if (name === 'collectionSetOff') {\n            var removeCollectionSets = { ...collectionSets }\n\n            value.forEach( set => {\n                removeCollectionSets[set] = 0\n            })\n\n            updateCollectionSets(removeCollectionSets)\n        }\n        else if (name === 'building') {\n            if (value === true && cardData && tabooData) {\n                const investigatorID = Object.keys(cardData)\n                .filter(key => {\n                    return  cardData[key].name === investigator\n                })[0]\n\n                if (!selectedDeckSize) {\n                    changeDeckSize(cardData[investigatorID].deck_requirements.size)    \n                }\n\n                if (!secondaryClass) {\n                    const classOptions = cardData[investigatorID].deck_options.filter(item => item.name === 'Secondary Class')\n\n                    if (classOptions.length > 0) {\n                        changeSecondaryClass(classOptions[0].faction_select[0])\n                    }\n                }\n\n                let tData = tabooData.filter(item => item.code === selectedTaboo ? true : false)\n\n                updateCardData(mergeTabooData(cardData, tData))\n            }\n            changeBuilding(value)\n        }\n    }\n\n    function doChangeDraftCount(index, value) {\n        let newCount = []\n        newCount = newCount.concat(draftCount)\n        newCount[index-1] = value\n        changeDraftCount(newCount)\n    }\n\n    function doChangeDraftCards(index, value) {\n        let newCards = []\n        newCards = newCards.concat(draftCards)\n        newCards[index-1] = value\n        changeDraftCards(newCards)\n    }\n\n    function doChangeDraftUseLimited(index, value) {\n        let newUseLimited = []\n        newUseLimited = newUseLimited.concat(draftUseLimited)\n        newUseLimited[index-1] = !draftUseLimited[index-1]\n        changeDraftUseLimited(newUseLimited)\n    }\n\n    function draftCard(card, list) {\n        let cardXP = 0\n\n        if (card.xp) {\n            cardXP = card.xp\n            if (card.exceptional) cardXP *= 2\n        }\n\n        if (list) {\n            const existingIndex = list.length > 0 ? list.findIndex(item => item.key === card.code) : -1\n\n            if (existingIndex >= 0) {\n                list.map(item => {\n                    if (item.name === card.name) {\n                        item.count = item.count + 1\n                        return item\n                    }\n\n                    return item\n                })\n            }\n            else {\n                list.push({ name: card.name, key: card.code, type_code: card.type_code, slot: card.slot, faction_code: card.faction_code, faction2_code: card.faction2_code, traits: card.traits, xp: cardXP, permanent: card.permanent, count: 1 })\n            }\n        }\n        else {\n            list = [{ name: card.name, key: card.code, type_code: card.type_code, slot: card.slot, faction_code: card.faction_code, faction2_code: card.faction2_code, traits: card.traits, xp: cardXP, permanent: card.permanent, count: 1 }]\n        }\n\n        return list\n    }\n\n    function resetApp() {\n        changeBuilding(false)\n//        changeInitialized(false)\n        changeNewPhase(true)\n        updateCardList([])\n        updateDraftPool([])\n        changePhase(1)\n        changeComplete(false)\n    }\n\n    const ready = cardData && tabooData && !fetchError\n\n    return (\n        <App\n        investigator={investigator}\n        secondaryClass={secondaryClass}\n        selectedDeckSize={selectedDeckSize}\n        selectedTaboo={selectedTaboo}\n        deckSize={deckSize}\n        draftTab={draftTab}\n        draftType={draftType}\n        draftWeighting={draftWeighting}\n        draftXP={draftXP}\n        draftCount={draftCount}\n        draftCards={draftCards}\n        draftUseLimited={draftUseLimited}\n        draftProgress={draftTab === 'Build Deck' ? draftProgressBuild : draftProgressUpgrade}\n        ready={ready}\n        building={building}\n        fetchError={fetchError}\n        phase={phase}\n        cardList={cardList}\n        collectionSets={collectionSets}\n        draftPool={draftPool}\n        cardData={cardData}\n        tabooData={tabooData}\n        handleChange={handleChange}\n        draftCard={draftCard}\n        updateCardList={updateCardList}\n        updateDraftPool={updateDraftPool}\n        resetApp={resetApp}\n        expandCollection={expandCollection}\n        />\n    )\n}\n\nexport default AppContainer;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport AppContainer from './AppContainer';\n//import * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <AppContainer />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n//serviceWorker.unregister();\n"],"sourceRoot":""}