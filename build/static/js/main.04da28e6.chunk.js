(this.webpackJsonparkhamdraftweb=this.webpackJsonparkhamdraftweb||[]).push([[0],[,,,,function(e,a,t){e.exports=t(11)},,,,,function(e,a,t){},function(e,a,t){},function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(3),l=t.n(o),c=(t(9),t(1));t(10);var i=function(e){function a(a){e.onChangeSetting(a.target.name,a.target.value)}var t='"Skids" ';t+="O'Toole";var n=r.a.createElement("option",{value:t},t);return r.a.createElement("div",{className:"settings"},r.a.createElement("h3",null,"Investigator Options"),r.a.createElement("label",null,"Investigator:"),r.a.createElement("select",{name:"investigator",value:e.investigator,onChange:a},r.a.createElement("option",{value:"Roland Banks"},"Roland Banks"),r.a.createElement("option",{value:"Daisy Walker"},"Daisy Walker"),n,r.a.createElement("option",{value:"Agnes Baker"},"Agnes Baker"),r.a.createElement("option",{value:"Wendy Adams"},"Wendy Adams"),r.a.createElement("option",{value:"Zoey Samaras"},"Zoey Samaras"),r.a.createElement("option",{value:"Rex Murphy"},"Rex Murphy"),r.a.createElement("option",{value:"Jenny Barnes"},"Jenny Barnes"),r.a.createElement("option",{value:"Jim Culver"},"Jim Culver"),r.a.createElement("option",{value:'"Ashcan" Pete'},'"Ashcan" Pete'),r.a.createElement("option",{value:"Mark Harrigan"},"Mark Harrigan"),r.a.createElement("option",{value:"Minh Thi Phan"},"Minh Thi Phan"),r.a.createElement("option",{value:"Sefina Rousseau"},"Sefina Rousseau"),r.a.createElement("option",{value:"William Yorick"},"William Yorick"),r.a.createElement("option",{value:"Leo Anderson"},"Leo Anderson"),r.a.createElement("option",{value:"Ursula Downs"},"Ursula Downs"),r.a.createElement("option",{value:"Finn Edwards"},"Finn Edwards"),r.a.createElement("option",{value:"Father Mateo"},"Father Mateo"),r.a.createElement("option",{value:"Calvin Wright"},"Calvin Wright"),r.a.createElement("option",{value:"Preston Fairmont"},"Preston Fairmont"),r.a.createElement("option",{value:"Diana Stanley"},"Diana Stanley"),r.a.createElement("option",{value:"Rita Young"},"Rita Young"),r.a.createElement("option",{value:"Marie Lambeau"},"Marie Lambeau"),r.a.createElement("option",{value:"Tommy Muldoon"},"Tommy Muldoon"),r.a.createElement("option",{value:"Luke Robinson"},"Luke Robinson"),r.a.createElement("option",{value:"Patrice Hathaway"},"Patrice Hathaway")),r.a.createElement("br",{style:{display:"none"}}),r.a.createElement("label",{style:{display:"none"},className:"secondaryClass",value:e.secondaryClass},"Secondary class:"),r.a.createElement("select",{style:{display:"none"},className:"secondaryClass",name:"secondaryClass",value:e.secondaryClass,onChange:a},r.a.createElement("option",{value:"guardian"},"Guardian"),r.a.createElement("option",{value:"seeker"},"Seeker"),r.a.createElement("option",{value:"rogue"},"Rogue"),r.a.createElement("option",{value:"mystic"},"Mystic"),r.a.createElement("option",{value:"survivor"},"Survivor")),r.a.createElement("br",{style:{display:"none"}}),r.a.createElement("label",{style:{display:"none"},className:"deckSize",value:e.deckSize},"Deck size:"),r.a.createElement("select",{style:{display:"none"},className:"deckSize",name:"deckSize",value:e.deckSize,onChange:a},r.a.createElement("option",{value:"30"},"30"),r.a.createElement("option",{value:"40"},"40"),r.a.createElement("option",{value:"50"},"50")))};var d=function(e){var a={},t={};function n(a){e.onChangeSetting(a.target.attributes.name.nodeValue,a.target.attributes.value.nodeValue)}return"Build Deck"===e.draftTab?(a={backgroundColor:"#ebebeb"},t={backgroundColor:"#bababa",borderLeft:"black 2px solid",borderBottom:"black 2px solid"}):(a={backgroundColor:"#bababa",borderRight:"black 2px solid",borderBottom:"black 2px solid"},t={backgroundColor:"#ebebeb"}),r.a.createElement("div",{className:"draft-type"},r.a.createElement("div",{className:"type-button",name:"draftTab",value:"Build Deck",style:a,onClick:n},"Build Deck"),r.a.createElement("div",{className:"type-button",name:"draftTab",value:"Upgrade",style:t,onClick:n},"Upgrade"))};var s=function(e){return r.a.createElement("div",{className:"draftSettingsDraft"})};var u=function(e){return r.a.createElement("div",{className:"draftSettingsDraft"},r.a.createElement("label",null,"Cards to select from:"),r.a.createElement("input",{type:"range",min:"2",max:"9",step:"1",value:e.draftCount,className:"slider",name:"draftCount1",onChange:function(a){e.onChangeSetting(a.target.name,a.target.value)}}),r.a.createElement("span",{className:"sliderValue"},e.draftCount))};var m=function(e){return r.a.createElement("div",{className:"draftPhase"},r.a.createElement("h4",{style:{padding:"0 0 5px 0"}},"Stage ",e.phase),r.a.createElement("label",null,"Cards to select from:"),r.a.createElement("input",{type:"range",min:"1",max:"9",value:e.draftCount,className:"slider",name:"draftCount",onChange:e.onChangeSetting}),r.a.createElement("span",{className:"sliderValue"},e.draftCount),r.a.createElement("br",null),r.a.createElement("label",null,"Cards selected in this stage: "),r.a.createElement("input",{type:"range",min:"0",max:e.maxCards,value:e.draftCards,className:"slider",name:"draftCards",onChange:e.onChangeSetting}),r.a.createElement("span",{className:"sliderValue"},e.draftCards))};var f=function(e){var a=e.deckSize-e.draftCards[0],t=a-e.draftCards[1],n=t-e.draftCards[2],o=null,l=null,c={},i={},d={};return a<e.draftCards[1]?(o=a>0?"Only "+a:"No",c={display:"block"}):c={display:"none"},t<e.draftCards[2]?(l=t>0?"Only "+t:"No",i={display:"block"},t<0&&(t=0)):i={display:"none"},d=n>0?{display:"block"}:{display:"none"},r.a.createElement("div",{className:"draftSettingsDraft"},r.a.createElement(m,{phase:"1",draftCount:e.draftCount[0],draftCards:e.draftCards[0],maxCards:e.deckSize,onChangeSetting:function(a){e.onChangeSetting(a.target.name+"1",a.target.value)}}),r.a.createElement(m,{phase:"2",draftCount:e.draftCount[1],draftCards:e.draftCards[1],maxCards:e.deckSize,onChangeSetting:function(a){e.onChangeSetting(a.target.name+"2",a.target.value)}}),r.a.createElement(m,{phase:"3",draftCount:e.draftCount[2],draftCards:e.draftCards[2],maxCards:e.deckSize,onChangeSetting:function(a){e.onChangeSetting(a.target.name+"3",a.target.value)}}),r.a.createElement("div",{className:"warning",style:c},r.a.createElement("b",null,"Warning:")," ",o," cards will be drawn in Phase 2."),r.a.createElement("div",{className:"warning",style:i},r.a.createElement("b",null,"Warning:")," ",l," cards will be drawn in Phase 3."),r.a.createElement("div",{className:"warning",style:d},r.a.createElement("b",null,"Warning:")," The final ",n," cards will be drawn at random."))};var p=function(e){var a,t;return"chaos"===e.draftType?(a=r.a.createElement(s,{onChangeSetting:e.onChangeSetting}),t=r.a.createElement("div",{className:"description"},"The original Ultimatum of Chaos rules from the 2017 Invocation Event.  A full deck will be created completely randomly from all cards available to the chosen investigator.")):"draft"===e.draftType?(a=r.a.createElement(u,{draftCount:e.draftCount[0],onChangeSetting:e.onChangeSetting}),t=r.a.createElement("div",{className:"description"},'Select cards one by one from a random display of cards available to the chosen investigator.  Each card will be selected from a number of cards determined by the "Cards to select from" option.')):"phaseDraft"===e.draftType&&(a=r.a.createElement(f,{draftCount:e.draftCount,draftCards:e.draftCards,deckSize:e.deckSize,onChangeSetting:e.onChangeSetting}),t=r.a.createElement("div",{className:"description"},'The draft will proceed through 3 distinct stages.  All stages will draft from the full set of cards available to the chosen investigator.  Each stage will draft a number of cards equal to "Cards selected in this stage", not including Permanent cards.  Each will be selected from a number of cards determined by the "Cards to select from" option.  This allows you to use completely random selection for part of the deck, or use a wider range of choices for part of the deck.')),r.a.createElement("div",{className:"offsetDiv"},r.a.createElement("label",null,"Type:"),r.a.createElement("select",{name:"draftType",value:e.draftType,onChange:function(a){e.onChangeSetting(a.target.name,a.target.value)}},r.a.createElement("option",{value:"chaos"},"Standard chaos"),r.a.createElement("option",{value:"draft"},"Simple draft"),r.a.createElement("option",{value:"phaseDraft"},"Draft in stages")),a,t)};var g=function(e){return"chaos"===e.draftType?r.a.createElement(s,{onChangeSetting:e.onChangeSetting}):"draft"===e.draftType&&r.a.createElement(u,{draftCount:e.draftCount[0],onChangeSetting:e.onChangeSetting}),r.a.createElement("div",null,"Unfinished.")};var v=function(e){var a="Build Deck"===e.draftTab?r.a.createElement(p,{draftType:e.draftType,draftCount:e.draftCount,draftCards:e.draftCards,deckSize:e.deckSize,onChangeSetting:e.onChangeSetting}):r.a.createElement(g,{draftType:e.draftType,draftWeighting:e.draftWeighting,draftXP:e.draftXP,draftCount:e.draftCount,draftCards:e.draftCards,deckSize:e.deckSize,onChangeSetting:e.onChangeSetting}),t=e.ready?r.a.createElement("button",{className:"button-ready",onClick:function(a){e.onChangeSetting("building",!0)}},"Start"):r.a.createElement("button",{className:"button-loading"},"Loading...");return r.a.createElement("div",{className:"settings"},r.a.createElement(d,{draftTab:e.draftTab,onChangeSetting:e.onChangeSetting}),r.a.createElement("h3",null,"Draft Options"),r.a.createElement("h5",null,e.draftTab),a,"Build Deck"===e.draftTab?t:null)};var h=function(e){var a=e.cardList,t=e.cardData,n=e.updateCardOverlay,o=0,l=0,c=0,i=0,d=[],s=[],u=[],m=[],f=[],p=[],g=[],v=[],h=[],E=[],C=[],y=[],b=[];function k(e){var a=t.filter((function(a){return a.code===e.target.id}));if(a&&a.length>0){var r="http://www.arkhamdb.com"+a[0].imagesrc;n(r,"Right")}}function S(e){var a=t.filter((function(a){return a.code===e.target.id}));if(a&&a.length>0){var r="http://www.arkhamdb.com"+a[0].imagesrc;n(r,"Left")}}function P(e){n(null,"Left")}a.forEach((function(e){"event"===e.type?(C.push(e),l+=e.count):"skill"===e.type?(y.push(e),c+=e.count):"asset"===e.type?(e.permanent?E.push(e):"Hand"===e.slot?d.push(e):"Hand x2"===e.slot?s.push(e):"Arcane"===e.slot?u.push(e):"Arcane x2"===e.slot?m.push(e):"Accessory"===e.slot?f.push(e):"Body"===e.slot?p.push(e):"Ally"===e.slot?g.push(e):"Tarot"===e.slot?v.push(e):h.push(e),o+=e.count):(b.push(e),i+=e.count)}));var O=o>0?r.a.createElement("h4",null,"Assets (",o,")"):null,N=d.length>0?r.a.createElement("p",{className:"slot-header"},"Hand"):null,w=d.sort((function(e,a){return e.name>a.name?1:-1})).map((function(e,a){var t=e.count>1?" x"+e.count:null;return r.a.createElement("p",{id:e.key,onPointerEnter:k,onPointerLeave:P,key:a},e.name,t)})),j=s.length>0?r.a.createElement("p",{className:"slot-header"},"Hand x2"):null,x=s.sort((function(e,a){return e.name>a.name?1:-1})).map((function(e,a){var t=e.count>1?" x"+e.count:null;return r.a.createElement("p",{id:e.key,onPointerEnter:k,onPointerLeave:P,key:a},e.name,t)})),L=u.length>0?r.a.createElement("p",{className:"slot-header"},"Arcane"):null,T=u.sort((function(e,a){return e.name>a.name?1:-1})).map((function(e,a){var t=e.count>1?" x"+e.count:null;return r.a.createElement("p",{id:e.key,onPointerEnter:k,onPointerLeave:P,key:a},e.name,t)})),D=m.length>0?r.a.createElement("p",{className:"slot-header"},"Arcane x2"):null,z=m.sort((function(e,a){return e.name>a.name?1:-1})).map((function(e,a){var t=e.count>1?" x"+e.count:null;return r.a.createElement("p",{id:e.key,onPointerEnter:k,onPointerLeave:P,key:a},e.name,t)})),A=f.length>0?r.a.createElement("p",{className:"slot-header"},"Accessory"):null,_=f.sort((function(e,a){return e.name>a.name?1:-1})).map((function(e,a){var t=e.count>1?" x"+e.count:null;return r.a.createElement("p",{id:e.key,onPointerEnter:k,onPointerLeave:P,key:a},e.name,t)})),B=p.length>0?r.a.createElement("p",{className:"slot-header"},"Body"):null,W=p.sort((function(e,a){return e.name>a.name?1:-1})).map((function(e,a){var t=e.count>1?" x"+e.count:null;return r.a.createElement("p",{id:e.key,onPointerEnter:k,onPointerLeave:P,key:a},e.name,t)})),M=g.length>0?r.a.createElement("p",{className:"slot-header"},"Ally"):null,R=g.sort((function(e,a){return e.name>a.name?1:-1})).map((function(e,a){var t=e.count>1?" x"+e.count:null;return r.a.createElement("p",{id:e.key,onPointerEnter:k,onPointerLeave:P,key:a},e.name,t)})),X=v.length>0?r.a.createElement("p",{className:"slot-header"},"Tarot"):null,U=v.sort((function(e,a){return e.name>a.name?1:-1})).map((function(e,a){var t=e.count>1?" x"+e.count:null;return r.a.createElement("p",{id:e.key,onPointerEnter:k,onPointerLeave:P,key:a},e.name,t)})),I=h.length>0?r.a.createElement("p",{className:"slot-header"},"Other"):null,H=h.sort((function(e,a){return e.name>a.name?1:-1})).map((function(e,a){var t=e.count>1?" x"+e.count:null;return r.a.createElement("p",{id:e.key,onPointerEnter:k,onPointerLeave:P,key:a},e.name,t)})),F=E.length>0?r.a.createElement("p",{className:"slot-header"},"Permanent"):null,J=E.sort((function(e,a){return e.name>a.name?1:-1})).map((function(e,a){var t=e.count>1?" x"+e.count:null;return r.a.createElement("p",{id:e.key,onPointerEnter:k,onPointerLeave:P,key:a},e.name,t)})),V=l>0?r.a.createElement("h4",null,"Events (",l,")"):null,Y=C.sort((function(e,a){return e.name>a.name?1:-1})).map((function(e,a){var t=e.count>1?" x"+e.count:null;return r.a.createElement("p",{id:e.key,onPointerEnter:S,onPointerLeave:P,key:a},e.name,t)})),q=c>0?r.a.createElement("h4",null,"Skills (",c,")"):null,Z=y.sort((function(e,a){return e.name>a.name?1:-1})).map((function(e,a){var t=e.count>1?" x"+e.count:null;return r.a.createElement("p",{id:e.key,onPointerEnter:S,onPointerLeave:P,key:a},e.name,t)})),G=i>0?r.a.createElement("h4",null,"Other (",i,")"):null,K=b.sort((function(e,a){return e.name>a.name?1:-1})).map((function(e,a){var t=e.count>1?" x"+e.count:null;return r.a.createElement("p",{id:e.key,onPointerEnter:S,onPointerLeave:P,key:a},e.name,t)}));return r.a.createElement("div",{className:"settings"},r.a.createElement("h3",{style:{marginBottom:"-10px"}},"Card List"),r.a.createElement("div",{className:"cardContainer"},r.a.createElement("div",{className:"col1"},O,N,w,j,x,L,T,D,z,A,_,B,W,M,R,X,U,I,H,F,J),r.a.createElement("div",{className:"col2"},V,Y,q,Z,G,K)))};var E=function(e){var a=e.draftCount,t=e.draftPool,n=e.draftCard,o=e.draftType,l=e.phase,c=e.cardList,i=e.updateCardList,d=e.updateDraftPool,s=[];function u(e){var a=t.findIndex((function(a){return e.target.src.includes(a.imagesrc)})),r=n(t[a],s);i(r),d([])}s=s.concat(c);for(var m=[],f=0;f<a;f++){var p="https://www.arkhamdb.com"+t[f].imagesrc;m.push(r.a.createElement("div",{className:"draft-card",key:f},r.a.createElement("img",{className:"draft-image",src:p,alt:t[f].name,onClick:u})))}var g="phaseDraft"===o?" - Stage "+l:null;return r.a.createElement("div",{className:"settings"},r.a.createElement("h3",null,"Draft",g),r.a.createElement("div",{className:"draft-container"},m),r.a.createElement("p",null,"Click image to draft card"))};var C=function(e){var a=e.investigator,t=e.deckSize,n=e.draftTab,o=e.draftXP,l=e.draftCount,c=e.draftProgress,i=e.draftType,d=e.phase,s=e.cardList,u=e.draftPool,m=e.cardData,f=e.draftCard,p=e.updateCardList,g=e.updateDraftPool,v=e.resetApp,C=e.updateCardOverlay,y=null,b=null;if(m){var k=Object.keys(m).filter((function(e){return m[e].name===a}))[0],S="https://www.arkhamdb.com"+m[k].imagesrc,P="https://www.arkhamdb.com"+m[k].backimagesrc;y=r.a.createElement("img",{className:"investigator-image",src:S,alt:e.investigator}),b=r.a.createElement("img",{className:"investigator-image",src:P,alt:e.investigator+" (back)"})}var O=null;u.length>0&&(O=r.a.createElement(E,{draftCount:l,draftCard:f,phase:d,draftType:i,draftPool:u,cardList:s,updateCardList:p,updateDraftPool:g}));var N="Build Deck"===n?r.a.createElement("p",null,r.a.createElement("b",null,"Cards: "),c,"/",t):r.a.createElement("p",null,r.a.createElement("b",null,"XP: "),c,"/",o);return r.a.createElement("div",null,r.a.createElement("div",{className:"settings"},r.a.createElement("h2",null,a),r.a.createElement("br",null),y,b,N),O,r.a.createElement(h,{cardList:s,cardData:m,updateCardOverlay:C}),r.a.createElement("button",{onClick:v},"Restart"))};var y=function(e){var a=null,t=Object(n.useState)(null),o=Object(c.a)(t,2),l=o[0],d=o[1],s=Object(n.useState)('Left"'),u=Object(c.a)(s,2),m=u[0],f=u[1],p=null;return l&&(p=r.a.createElement("div",{className:"floatingImage"+m},r.a.createElement("img",{src:l}))),a=e.fetchError?r.a.createElement("div",null,"Fetch error!"):e.building?r.a.createElement(C,{draftType:e.draftType,draftTab:e.draftTab,investigator:e.investigator,secondaryClass:e.secondaryClass,deckSize:e.deckSize,draftXP:e.draftXP,draftCount:e.draftCount[e.phase-1],draftCards:e.draftCards[e.phase-1],draftProgress:e.draftProgress,phase:e.phase,cardList:e.cardList,cardData:e.cardData,draftPool:e.draftPool,draftCard:e.draftCard,updateCardList:e.updateCardList,updateDraftPool:e.updateDraftPool,updateCardOverlay:function(e,a){d(e),f(a)},resetApp:e.resetApp}):r.a.createElement("div",null,r.a.createElement(i,{investigator:e.investigator,secondaryClass:e.secondaryClass,deckSize:e.deckSize,onChangeSetting:e.handleChange}),r.a.createElement(v,{draftTab:e.draftTab,draftType:e.draftType,draftWeighting:e.draftWeighting,draftXP:e.draftXP,draftCount:e.draftCount,draftCards:e.draftCards,deckSize:e.deckSize,ready:e.ready,onChangeSetting:e.handleChange})),r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},"ArkhamDraft"),a,p)};var b=function(e,a){for(var t=!1,n=null,r=function(){var r=(n=e[Math.floor(Math.random()*e.length)]).code;(a&&a.length>0?a.findIndex((function(e){return e.code===r})):-1)<0&&(t=!0)};!t;)r();return n};var k=function(e){var a=e.investigator,t=e.cardData,n=e.cardList,r=e.upgrade,o={core:1,dwl:1,tmm:1,tece:1,bota:1,uau:1,wda:1,litas:1,ptc:1,eotp:1,tuo:1,apot:1,tpm:1,bsr:1,dca:1,tfa:1,tof:1,tbb:1,hote:1,tcoa:1,tdoy:1,sha:1,tcu:1,tsn:1,wos:1,fgg:1,uad:1,icc:1,bbt:1,tde:1,sfk:1,tsh:1,dsm:1,pnr:1,wgd:1,woc:1,rtnotz:1,rtdwl:1,rtptc:1},l=Object.keys(t).filter((function(e){return t[e].name===a}))[0],c=t[l].deck_options,i=function(e,a){if(!e)return[];var t=[];return e.forEach((function(e){for(var n=!1,r=0;r<a.length;r++){if(!a[r].limit)m(e,a[r])&&(n=!0)}n||t.push(e)})),t}(n,c),d=0,s=0;function u(e,a){var t=0;return e&&e.forEach((function(e){m(e,a)&&(t+=e.count)})),t}function m(e,a){var t=!0,n=!0,r=!0;if(a.faction){n=!1;for(var o=0;o<a.faction.length;o++)e.faction_code===a.faction[o]&&(n=!0),e.faction2_code===a.faction[o]&&(n=!0)}if(a.level){t=!1;var l=a.level.min,c=a.level.max,i=void 0===e.xp?0:e.xp;i>=l&&i<=c&&(t=!0)}if(a.trait){r=!1;var d=e.traits;d&&d.search(new RegExp(a.trait,"i"))>=0&&(r=!0)}return n&&t&&r}return r&&(d=1,s=5),t.filter((function(e){if("investigator"===e.type_code)return!1;if("story"===e.type_code)return!1;if("location"===e.type_code)return!1;if("enemy"===e.type_code)return!1;if("treachery"===e.type_code)return!1;if(e.bonded_to)return!1;if(e.subtype_code)return!1;var a=0;if(e.xp&&(a=e.xp),e.exceptional&&(a*=2),a<d)return!1;if(a>s)return!1;if(e.restrictions&&e.restrictions.investigator)return!1;if(!o[e.pack_code])return!1;for(var t=!1,r=0;r<c.length;r++){var l=!1;if(m(e,c[r]))if(l=!0,c[r].not)l=!1;else if(c[r].limit){u(i,c[r])>=c[r].limit&&(l=!1)}l&&(t=!0)}if(!t)return!1;var f=!1;return n.forEach((function(a){a.name===e.name&&a.count>=e.deck_limit&&(f=!0)})),!f}))};var S=function(e){var a=e.draftCards,t=e.draftCard,n=e.cardList,r=[];r=r.concat(n);for(var o=k(e),l=0;l<a;){var c=b(o);r=t(c,r),c.permanent||l++}return r};var P=function(e){for(var a=e.draftCount,t=k(e),n=[],r=0;r<a;r++){var o=b(t,n);n.push(o)}return n};var O=function(){var e=Object(n.useState)("Roland Banks"),a=Object(c.a)(e,2),t=a[0],o=a[1],l=Object(n.useState)("guardian"),i=Object(c.a)(l,2),d=i[0],s=i[1],u=Object(n.useState)("30"),m=Object(c.a)(u,2),f=(m[0],m[1]),p=Object(n.useState)("30"),g=Object(c.a)(p,2),v=g[0],h=g[1],E=Object(n.useState)("Build Deck"),C=Object(c.a)(E,2),b=C[0],k=C[1],O=Object(n.useState)("draft"),N=Object(c.a)(O,2),w=N[0],j=N[1],x=Object(n.useState)("medium"),L=Object(c.a)(x,2),T=L[0],D=L[1],z=Object(n.useState)(1),A=Object(c.a)(z,2),_=A[0],B=A[1],W=Object(n.useState)([3,3,3]),M=Object(c.a)(W,2),R=M[0],X=M[1],U=Object(n.useState)([10,10,10]),I=Object(c.a)(U,2),H=I[0],F=I[1],J=Object(n.useState)(!1),V=Object(c.a)(J,2),Y=V[0],q=V[1],Z=Object(n.useState)(!0),G=Object(c.a)(Z,2),K=G[0],Q=G[1],$=Object(n.useState)(!1),ee=Object(c.a)($,2),ae=ee[0],te=ee[1],ne=Object(n.useState)(null),re=Object(c.a)(ne,2),oe=re[0],le=re[1],ce=Object(n.useState)(!1),ie=Object(c.a)(ce,2),de=ie[0],se=ie[1],ue=Object(n.useState)([]),me=Object(c.a)(ue,2),fe=me[0],pe=me[1],ge=Object(n.useState)([]),ve=Object(c.a)(ge,2),he=ve[0],Ee=ve[1],Ce=Object(n.useState)(1),ye=Object(c.a)(Ce,2),be=ye[0],ke=ye[1],Se=Object(n.useState)(!1),Pe=Object(c.a)(Se,2),Oe=Pe[0],Ne=Pe[1],we=0,je=0;if(fe)for(var xe in fe)fe[xe].permanent||(we+=fe[xe].count),je+=fe[xe].xp*fe[xe].count;function Le(e,a){var t=[];(t=t.concat(R))[e-1]=a,X(t)}function Te(e,a){var t=[];(t=t.concat(H))[e-1]=a,F(t)}function De(e,a){a?(a.length>0?a.findIndex((function(a){return a.key===e.code})):-1)>=0?a.map((function(a){return a.name===e.name?(a.count=a.count+1,a):a})):a.push({name:e.name,key:e.code,type:e.type_code,slot:e.slot,faction_code:e.faction_code,faction2_code:e.faction2_code,xp:e.xp,permanent:e.permanent,count:1}):a=[{name:e.name,key:e.code,type:e.type_code,slot:e.slot,faction_code:e.faction_code,faction2_code:e.faction2_code,xp:e.xp,permanent:e.permanent,count:1}];return a}Object(n.useEffect)((function(){return te(!0),void fetch("https://cors-anywhere.herokuapp.com/https://arkhamdb.com/api/public/cards/").then((function(e){return e.json()})).then((function(e){le(e),te(!1)})).catch((function(){return se(!0)}))}),[]),Object(n.useEffect)((function(){if(Y&&!Oe){var e="Build Deck"===b?we:je;if(K){if("chaos"===w){var a=S({investigator:t,draftCards:v,draftXP:_,upgrade:"Upgrade"===b,cardList:fe,cardData:oe,draftCard:De});pe(a),Q(!1),Ne(!0)}else if(e<v)if(1==R[be-1]){var n=S({investigator:t,draftCards:H[be-1],draftXP:_,upgrade:"Upgrade"===b,cardList:fe,cardData:oe,draftCard:De});pe(n),ke(be+1)}else{var r=P({investigator:t,draftCount:R[be-1],draftXP:_,upgrade:"Upgrade"===b,cardList:fe,cardData:oe,draftCard:De});Ee(r),Q(!1)}}else if(he.length<1)if("draft"===w)if(e<v){var o=P({investigator:t,draftCount:R[be-1],draftXP:_,upgrade:"Upgrade"===b,cardList:fe,cardData:oe,draftCard:De});Ee(o)}else Ne(!0);else{for(var l=0,c=0;c<be;c++)l+=parseInt(H[c],10);if(l>v&&(l=v),e<l){var i=P({investigator:t,draftCount:R[be-1],draftXP:_,upgrade:"Upgrade"===b,cardList:fe,cardData:oe,draftCard:De});Ee(i)}else if(be>=3){if(e<v){var d=S({investigator:t,draftCards:v-e,draftXP:_,upgrade:"Upgrade"===b,cardList:fe,cardData:oe,draftCard:De});pe(d)}Ne(!0)}else ke(be+1),Q(!0)}}}),[Y,Oe,K,w,we,je,v,t,fe,oe,R,be,H,he,b]);var ze=oe&&!ae&&!de;return r.a.createElement(y,{investigator:t,secondaryClass:d,deckSize:v,draftTab:b,draftType:w,draftWeighting:T,draftXP:_,draftCount:R,draftCards:H,draftProgress:"Build Deck"===b?we:je,ready:ze,building:Y,fetchError:de,phase:be,cardList:fe,draftPool:he,cardData:oe,handleChange:function(e,a){if("investigator"===e){o(a);var t=Object.keys(oe).filter((function(e){return oe[e].name===a}))[0];h(oe[t].deck_requirements.size)}else"secondaryClass"===e?s(a):"deckSize"===e?(f(a),h(a)):"draftTab"===e?k(a):"draftType"===e?j(a):"draftWeighting"===e?D(a):"draftXP"===e?B(a):"draftCount1"===e?Le(1,a):"draftCount2"===e?Le(2,a):"draftCount3"===e?Le(3,a):"draftCards1"===e?Te(1,a):"draftCards2"===e?Te(2,a):"draftCards3"===e?Te(3,a):"building"===e&&q(a)},draftCard:De,updateCardList:pe,updateDraftPool:Ee,resetApp:function(){q(!1),Q(!0),pe([]),Ee([]),ke(1),Ne(!1)}})};l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(O,null)),document.getElementById("root"))}],[[4,1,2]]]);
//# sourceMappingURL=main.04da28e6.chunk.js.map